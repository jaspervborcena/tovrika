    .pos-container {
      /* account for fixed header height (80px) so the POS content sits below it */
      margin-top: 80px;
      min-height: calc(100vh - 80px);
      display: flex;
      flex-direction: column;
      background: #f8fafc;
      overflow: hidden;
    }

    /* Store Selector with 2-column layout */
    .store-selector {
      background: white;
      border-bottom: 1px solid #e2e8f0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .store-selector-layout {
      display: flex;
      align-items: center;
      min-height: 80px; /* Match receipt panel height */
    }

    .store-selection-column {
      flex: 1; /* Same as left-panel */
      border-right: 1px solid #e2e8f0; /* Match left-panel border */
    }

    .store-invoice-column {
      width: 400px; /* Same as right-panel */
      /* padding: 0.75rem 1rem; */
      border-left: 1px solid #e2e8f0; /* Match right-panel border */
    }

    .store-invoice-column .invoice-info-section {
      margin-bottom: 0; /* Remove bottom margin in this context */
    }

    .no-stores-message {
      padding: 0.5rem 1rem;
      color: #6b7280;
      font-style: italic;
    }

    /* STORE SELECTION SECTION (Inside Collapsible) */
    .store-selection-section {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 1rem;
      margin: 0 1rem 1rem;
    }

    .store-selection-section h3 {
      font-size: 14px;
      font-weight: 600;
      color: #2c3e50;
      margin: 0 0 0.75rem 0;
    }

    .store-buttons-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .store-btn-inline {
      padding: 0.5rem 1rem;
      background: white;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 13px;
      font-weight: 500;
      color: #374151;
    }

    .store-btn-inline:hover {
      background: #f3f4f6;
      border-color: #9ca3af;
    }

    .store-btn-inline.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
      box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
    }

    /* NAVIGATION TOGGLE BUTTON FOR DESKTOP POS */
    .navigation-toggle-row {
      background: linear-gradient(135deg, #007bff, #0056b3);
      border-radius: 8px;
      margin: 0.75rem 0 5px 0;
      box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);
      border: none;
    }

    .navigation-toggle-btn {
      width: 100%;
      background: none;
      border: none;
      padding: 12px 16px;
      color: white;
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .navigation-toggle-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-1px);
    }

    .navigation-toggle-btn:active {
      transform: translateY(0);
    }

    .toggle-icon {
      font-size: 16px;
      transition: transform 0.3s ease;
      margin-right: 10px;
    }

    .toggle-icon.expanded {
      transform: rotate(180deg);
    }

    .toggle-text {
      flex: 1;
      text-align: left;
      font-weight: 700;
    }

    .controls-hint {
      font-size: 11px;
      opacity: 0.8;
      font-weight: 400;
      text-align: right;
      line-height: 1.2;
    }

    /* COLLAPSIBLE NAVIGATION SECTION */
    .navigation-section {
      display: flex;
      flex-direction: column;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      transform-origin: top;
    }

    .navigation-section.collapsed {
      max-height: 0;
      opacity: 0;
      transform: scaleY(0);
      margin-bottom: -10px;
    }

    .navigation-section:not(.collapsed) {
      max-height: 1000px;
      opacity: 1;
      transform: scaleY(1);
    }    .store-tabs {
      background: white;
      border-bottom: 1px solid #e2e8f0;
      padding: 1rem 2rem;
    }

    .tabs-header {
      display: flex;
      gap: 0.5rem;
    }

    .store-tab {
      padding: 0.5rem 1rem;
      background: white;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .store-tab.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .pos-layout {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* small horizontal padding so content doesn't start too far from left on responsive widths */
    @media (max-width: 1250px) {
      .pos-container {
        padding-left: 12px;
        padding-right: 12px;
      }
      .pos-layout {
        padding-left: 0;
        padding-right: 0;
      }
    }

    .left-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: white;
      border-right: 1px solid #e2e8f0;
      min-width: 400px; /* Ensure minimum width for categories */
    }

    .categories-panel {
      padding: 1rem;
      border-bottom: 1px solid #e2e8f0;
      /* Remove max-height and overflow to allow natural height */
    }

    /* Compact Layout for Categories and Customer */
    .categories-panel.compact-layout {
      display: flex;
      gap: 1.5rem;
      max-height: none;
      border-bottom: 1px solid #e2e8f0;
      padding: 1rem;
    }

    .categories-column {
      flex: 1;
      min-width: 0;
    }

    .customer-column {
      flex: 1;
      min-width: 0;
    }

    /* Invoice Info Section - Always visible at top */
    .invoice-info-section {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      padding: 0.75rem;
      margin-bottom: 1rem;
    }

    .invoice-horizontal-layout {
      display: flex;
      gap: 1rem;
    }

    .invoice-field {
      display: flex;
      flex-direction: column;
    }

    .invoice-field:first-child {
      flex: 2; /* Give more space to invoice number */
    }

    .invoice-field:last-child {
      flex: 1; /* Date field takes only needed space */
      min-width: 180px; /* Minimum width for datetime input */
    }

    .invoice-field label {
      font-size: 0.75rem;
      font-weight: 500;
      color: #374151;
      margin-bottom: 0.25rem;
    }

    .invoice-field input {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 0.875rem;
      box-sizing: border-box;
    }

    .invoice-field .input-action-pair {
      display: flex;
      gap: 0.5rem;
    }

    .invoice-field .input-action-pair input {
      flex: 1;
    }

    .categories-column h3,
    .customer-column h3 {
      margin: 0 0 1rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #374151;
    }

    /* Customer Panel Specific Styles */
    .customer-panel {
      max-height: none;
    }

    .customer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      user-select: none;
      margin-bottom: 1rem;
    }

    .customer-header h3 {
      margin: 0;
      font-size: 1.125rem;
      font-weight: 600;
      color: #1f2937;
    }

    .expand-arrow {
      transition: transform 0.2s ease;
      font-size: 12px;
      color: #6b7280;
    }

    .expand-arrow.expanded {
      transform: rotate(180deg);
    }

    .customer-field-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }

    .customer-field-group label {
      font-size: 0.875rem;
      font-weight: 500;
      color: #374151;
    }

    .customer-field-group input {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 0.875rem;
      box-sizing: border-box;
    }

    .customer-field-group input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
    }

    .customer-name-input {
      font-weight: 500;
    }

    .customer-details {
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .customer-details.hidden {
      max-height: 0;
      opacity: 0;
      margin-top: 0;
    }

    .input-action-pair {
      display: flex;
      gap: 0.5rem;
      align-items: stretch;
    }

    .input-action-pair input {
      flex: 1;
      min-width: 0;
    }

    .action-btn {
      padding: 0.5rem 0.75rem;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 0.75rem;
      cursor: pointer;
      white-space: nowrap;
    }

    .action-btn:hover {
      background: #2563eb;
    }

    /* Invoice Info Section */
    .invoice-info-section {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      color: white;
    }

    /* Cart Invoice Info (within receipt panel) */
    .cart-invoice-info {
      background: #e0f2fe;
      border: 1px solid #0284c7;
      border-radius: 6px;
      padding: 0.5rem; /* tighter */
      margin-bottom: 0.5rem; /* move content up */
      flex-shrink: 0;
    }

    .invoice-header {
      margin: 0 0 0.5rem 0;
      font-size: 0.875rem;
      font-weight: 600;
      color: #0369a1;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .invoice-compact-layout {
      display: flex;
      gap: 1rem;
    }

    .invoice-field-compact {
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    .invoice-field-compact label {
      font-size: 0.7rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 0.25rem;
    }

    .invoice-field-compact input {
      width: 100%;
      padding: 0.4rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 0.8rem;
      box-sizing: border-box;
    }

    .invoice-date,
    .invoice-number {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .invoice-date {
      flex: 1;
    }

    .invoice-number {
      flex: 2;
    }

    .invoice-date label,
    .invoice-number label {
      font-size: 0.75rem;
      font-weight: 600;
      opacity: 0.9;
      margin: 0;
    }

    .invoice-date span {
      font-weight: 600;
      font-size: 0.875rem;
    }

    .invoice-input {
      padding: 0.5rem 0.75rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      color: white;
      font-size: 0.875rem;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .invoice-input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .invoice-input:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.5);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
    }

    .invoice-input {
      padding: 0.5rem 0.75rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      color: white;
      font-size: 0.875rem;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .invoice-input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .invoice-input:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.5);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
    }

    /* Categories Section */
    .categories-section {
      margin-bottom: 1rem;
    }

    .categories-section:last-child {
      margin-bottom: 0;
    }

    .categories-section h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #1f2937;
    }

    .categories-panel h3 {
      margin: 0 0 1rem 0;
      font-size: 1.125rem;
      font-weight: 600;
      color: #1f2937;
    }

    .category-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .category-btn {
      padding: 0.5rem 1rem;
      border: 1px solid #d1d5db;
      background: white;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.875rem;
      transition: all 0.2s;
    }

    .category-btn:hover,
    .category-btn.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .search-section {
      padding: 0 1rem; /* allow room for sort buttons */
      border-bottom: 1px solid #e2e8f0;
      margin-top: 10px;
    }

    /* New: separate containers for search and sort */
    .search-sort-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
    }

    .search-area {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 5rem; /* requested wider gap between input and filter */
      min-width: 0; /* allow input to shrink properly */
    }

    .search-input-wrap { position: relative; flex: 1; }

    .search-icon {
      position: absolute;
      left: 1rem;
      width: 1.25rem;
      height: 1.25rem;
      color: #6b7280;
      z-index: 1;
      top: 50%;
      transform: translateY(-50%);
    }

    .search-input {
      width: 100%;
      padding: 0.5rem 0.75rem 0.5rem 2.5rem;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.875rem;
      background: white;
      height: 36px;
    }

    .search-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .clear-btn {
      position: absolute;
      right: 0.5rem;
      background: none;
      border: none;
      font-size: 1.1rem;
      color: #6b7280;
      cursor: pointer;
      top: 50%;
      transform: translateY(-50%);
    }

    /* Filter button next to search */
    .filter-btn {
      height: 36px;
      width: 36px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      color: #374151;
      cursor: pointer;
    }

    .filter-btn:hover { background: #f1f5f9; }

    /* Sort menu area */
    .sort-area { position: relative; display: flex; align-items: center; }

    .sort-menu-btn {
      height: 36px;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0 0.6rem;
      background: #ffffff;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      color: #374151;
      cursor: pointer;
    }

    .sort-menu-btn:hover,
    .sort-menu-btn.active { background: #f8fafc; border-color: #94a3b8; }

    .sort-emoji { font-size: 1rem; line-height: 1; }
    .sort-label { font-size: 0.85rem; color: #475569; }

    .sort-dropdown {
      position: absolute;
      top: 40px;
      right: 0;
      min-width: 240px;
      background: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      padding: 0.25rem;
      z-index: 20;
    }

    .sort-option {
      width: 100%;
      padding: 0.5rem 0.75rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      text-align: left;
      color: #374151;
      font-size: 0.875rem;
      cursor: pointer;
    }

    .sort-option:hover { background: #f1f5f9; }
    .sort-option.active { background: #eff6ff; color: #1d4ed8; }

    /* Sort option label + description */
    .sort-option .label { display: block; font-weight: 600; }
    .sort-option .desc { display: block; font-size: 0.75rem; color: #6b7280; margin-top: 2px; }

    .product-tabs {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      border-bottom: 1px solid #e2e8f0;
      padding: 0.25rem 1rem 0.5rem;
    }

    /* Product view tabs (List/Grid/Promos/Bestsellers) */
    .product-tabs .tab-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      color: #374151;
      cursor: pointer;
      font-size: 0.875rem;
      line-height: 1;
      transition: all 0.2s ease;
    }

    .product-tabs .tab-btn:hover {
      background: #f8fafc;
      border-color: #93c5fd;
    }

    .product-tabs .tab-btn.active {
      background: #eff6ff;
      color: #1d4ed8;
      border-color: #3b82f6;
    }

    .product-tabs .tab-btn svg {
      width: 1.1rem;
      height: 1.1rem;
    }

    /* Access tabs (horizontal row above search) */
    .access-tabs {
      padding: 0.25rem 0;
      margin-bottom: 0.25rem;
    }

    .access-tab-list {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      overflow-x: auto;
      padding: 0.25rem 0.25rem;
      -webkit-overflow-scrolling: touch;
    }

    .tab-btn.small {
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;
      min-width: auto;
      border: 1px solid transparent;
      background: #ffffff;
      border-radius: 9999px;
      cursor: pointer;
    }

    .tab-btn.small:hover {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .tab-btn svg {
      width: 1.25rem;
      height: 1.25rem;
    }

    .tab-btn:hover,
    .tab-btn.active {
      color: #3b82f6;
      background: #f8fafc;
    }

    /* Reuse Access component's square tab header styles for consistency */
    .tab-header {
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      min-width: 120px;
      text-align: left;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .tab-header:hover {
      border-color: #667eea;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .tab-header.active {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .tab-content {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .tab-label {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .products-display {
      flex: 1;
      padding: 1rem;
      min-height: 350px; /* Increased minimum height to ensure complete rows are visible */
    }

    .products-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .product-list-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
    }

    .product-list-item:hover {
      border-color: #3b82f6;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .product-list-item.bestseller {
      position: relative;
    }

    .rank-badge {
      position: absolute;
      top: -8px;
      left: -8px;
      background: #f59e0b;
      color: white;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: bold;
    }

    .product-image-small {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 6px;
      background: #f3f4f6;
    }

    .product-info {
      flex: 1;
    }

    .product-info h4 {
      margin: 0 0 0.25rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #1f2937;
    }

    .product-sku,
    .product-stock {
      margin: 0;
      font-size: 0.75rem;
      color: #6b7280;
    }

    .product-price {
      text-align: right;
      font-weight: 600;
      color: #1f2937;
    }

    .discount-badge {
      display: block;
      font-size: 0.75rem;
      color: #dc2626;
      font-weight: 500;
      margin-top: 0.25rem;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr); /* 6 columns for denser grid */
      gap: 0.4rem 0.5rem; /* tighter row gap (0.4rem), keep column gap (0.5rem) */
    }

    .product-grid-item {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 0.3rem; /* tighter padding to reduce height */
      cursor: pointer;
      transition: all 0.2s;
      background: white;
      position: relative;
      aspect-ratio: 1.05; /* Slightly wider than tall -> reduces height */
      display: flex;
      flex-direction: column;
    }

    .product-grid-item:hover {
      border-color: #3b82f6;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .product-grid-item.promo {
      border-color: #f59e0b;
    }

    .promo-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #f59e0b;
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: bold;
    }

    .product-image {
      width: 100%;
      height: 72px; /* reduce image height to trim vertical space */
      object-fit: cover;
      border-radius: 6px;
      background: #f3f4f6;
      margin-bottom: 0.2rem; /* slightly tighter */
    }

    .product-details {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .product-name-price {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0.2rem; /* tighten spacing between name and category */
      gap: 0.5rem;
    }

    .product-name-price h4 {
      margin: 0;
      font-size: 0.8rem; /* Slightly smaller title */
      font-weight: 600;
      color: #1f2937;
      line-height: 1.2;
      flex: 1;
    }

    .product-name-price .price {
      font-weight: 600;
      color: #059669;
      font-size: 0.85rem; /* Slightly smaller price text */
      white-space: nowrap;
    }

    .product-category-stock {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0; /* Remove margin to eliminate blank row */
      gap: 0.5rem;
    }

    .product-details h4 {
      margin: 0 0 0.5rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #1f2937;
    }

    .product-description {
      margin: 0;
      font-size: 0.75rem;
      color: #6b7280;
      flex: 1;
    }

    .product-stock {
      font-size: 0.75rem;
      color: #6b7280;
      white-space: nowrap;
    }

    .discount {
      font-size: 0.75rem;
      color: #dc2626;
      font-weight: 500;
      margin-top: 0; /* Remove margin to eliminate blank row */
    }

    .product-pricing {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .price {
      font-weight: 600;
      color: #1f2937;
    }

    .discount {
      font-size: 0.75rem;
      color: #dc2626;
      font-weight: 500;
    }

    .right-panel {
      width: 400px;
      background: white;
      border-left: 1px solid #e2e8f0;
    }

    /* Show More button below grid */
    .show-more-row {
      display: flex;
      justify-content: center;
      margin-top: 0.5rem;
    }

    .show-more-btn {
      max-width: 200px;
    }

    .receipt-panel {
      height: 100%;
      display: flex;
      flex-direction: column;
      /* add ~10px more internal padding for breathing room */
      padding: calc(1rem + 0.1px);
      min-height: 0; /* allow flex children to shrink so footer stays visible */
    }

    .receipt-header {
      border-bottom: 1px solid #e2e8f0;
      padding-bottom: 1rem;
      margin-bottom: 1rem;
    }

    .company-info h2 {
      margin: 0 0 0.5rem 0;
      font-size: 1.25rem;
      font-weight: 700;
      color: #1f2937;
    }

    .company-info p {
      margin: 0.25rem 0;
      font-size: 0.875rem;
      color: #6b7280;
    }

    .receipt-date {
      margin-top: 0.5rem !important;
      font-weight: 500 !important;
      color: #374151 !important;
    }

    .cart-items {
      flex: 1 1 auto;
      overflow-y: auto;
      min-height: 0; /* allow the cart to shrink inside the receipt panel */
      /* scroll only inside cart; no page-level scroll */
      padding-bottom: 0; /* remove extra bottom space */
      margin-bottom: 0; /* ensure no container bottom margin */
      /* Show only 5 items (rows) then scroll the rest */
      max-height: calc(5 * (32px + 0.5rem));
    }

    .cart-header {
      display: grid;
      grid-template-columns: 2fr 0.8fr 0.8fr 1.2fr; /* Reduced price column, increased total column for better balance */
      gap: 1rem; /* Increased gap from 0.5rem to 1rem for better spacing between columns */
      padding: 0.5rem;
      font-size: 0.75rem;
      font-weight: 600;
      color: #6b7280;
      text-transform: uppercase;
      border-bottom: 1px solid #e2e8f0;
      margin-bottom: 0.5rem;
       margin-top: 0.5rem;
    }

    .empty-cart {
      text-align: center;
      padding: 2rem;
      color: #6b7280;
    }

    .cart-item {
      border-bottom: 1px solid #f3f4f6;
      /* padding: 0.75rem; */
      /* margin-bottom: 0.5rem; */
      display: grid;
      grid-template-columns: 2fr 0.8fr 0.8fr 1.2fr; /* Match cart-header proportions */
      gap: 1rem; /* Increased gap to match cart-header for consistent spacing */
      align-items: center;
      min-height: 32px; /* Reduced from 40px for more compact display */
      padding: 0.25rem 0; /* Add minimal padding for better spacing */
    }

    .cart-item:last-child {
      border-bottom: none;
      padding-bottom: 0; /* remove extra gap before summary */
      margin-bottom: 0;  /* ensure no leftover spacing */
    }

    .item-details {
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-start !important;
    }

    .item-name {
      font-weight: 500;
      color: #1f2937;
      font-size: 0.75rem; /* Reduced from 0.875rem to match summary sections */
    }

    .item-sku {
      font-size: 0.65rem; /* Reduced from 0.75rem */
      color: #6b7280;
    }

    .quantity-controls {
      display: flex !important;
      align-items: center;
     
    }

    .qty-btn {
      width: 20px; /* Reduced from 24px */
      height: 20px; /* Reduced from 24px */
      border: 1px solid #d1d5db;
      background: white;
      border-radius: 3px;
      cursor: pointer;
      font-size: 0.7rem; /* Reduced from 0.875rem */
    }

    .qty-btn:hover {
      background: #f3f4f6;
    }

    .quantity {
      font-weight: 500;
      min-width: 20px;
      text-align: center;
      font-size: 0.75rem; /* Added to match summary font size */
    }

    .item-price,
    .item-total {
      font-weight: 500;
      color: #1f2937;
      text-align: right;
      font-size: 0.75rem; /* Added to match summary sections */
    }

    .item-total {
      display: flex !important;
      align-items: center;
      justify-content: space-between;
    }

    .remove-btn {
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 18px; /* Reduced from 22px */
      height: 18px; /* Reduced from 22px */
      cursor: pointer;
      font-size: 0.65rem; /* Reduced from 0.75rem */
      margin-left: 0.25rem; /* Reduced margin */
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .item-controls {
      grid-column: 1 / -1; /* span all grid columns */
      padding-top: 0.5rem;
    }

    .vat-exempt-toggle {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.75rem;
      color: #6b7280;
      cursor: pointer;
    }

    .receipt-summary {
      border-top: 1px solid #e2e8f0;
      padding-top: 0.5rem;
      margin-top: 0; /* flush with last cart item */
      flex-shrink: 0;
    }

    .summary-line {
      display: flex;
      justify-content: space-between;
      padding: 0.25rem 0;
      font-size: 0.875rem;
    }

    .summary-line.gross {
      border-top: 1px solid #e2e8f0;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
      font-weight: 600;
    }

    .summary-line.total {
      border-top: 2px solid #1f2937;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
      font-weight: 700;
      font-size: 1.125rem;
      color: #1f2937;
    }

    .action-buttons {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.25rem; /* tighter to reduce gap */
      flex-shrink: 0;
    }

    .btn {
      flex: 1;
      padding: 0.5rem 0.75rem;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 0.875rem;
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: #f3f4f6;
      color: #374151;
      border: 1px solid #d1d5db;
    }

    .btn-secondary:hover:not(:disabled) {
      background: #e5e7eb;
    }

    .btn-primary {
      background: #3b82f6;
      color: white;
    }

    .btn-primary:hover:not(:disabled) {
      background: #2563eb;
    }

    .receipt-footer {
      border-top: 1px solid #e2e8f0;
      padding-top: 0.5rem;
      margin-top: 0.25rem; /* tighter to reduce gap */
      text-align: center;
      flex-shrink: 0;
    }

    .receipt-footer p {
      margin: 0;
      font-size: 0.875rem;
      color: #6b7280;
      font-style: italic;
    }

    @media (max-width: 1024px) {
      .right-panel {
        width: 350px;
      }
      
      .products-grid {
        grid-template-columns: repeat(4, 1fr); /* 4 columns on smaller screens */
        gap: 0.5rem;
      }
      /* Slightly move down the receipt panel on tablet for better spacing */
      .receipt-panel {
        margin-top: 8px;
        padding: calc(1rem + 8px);
      }
    }

    @media (max-width: 768px) {
      .pos-layout {
        flex-direction: column;
      }

      .left-panel {
        height: auto;
      }

      /* Make the receipt full-width and place it after the products on mobile */
      .right-panel {
        width: 100%;
        height: auto;
        order: 2; /* place receipt after products */
        border-left: none;
        border-top: 1px solid #e2e8f0;
        margin-top: 12px;
      }

      .categories-panel {
        max-height: 120px;
      }

      .product-tabs {
        font-size: 0.75rem;
      }

      .tab-btn {
        padding: 0.75rem 0.5rem;
      }

      /* Allow the receipt to show fully on mobile: remove cart max-height and show full content */
      .cart-items {
        max-height: none !important;
        overflow: visible !important;
      }
      .receipt-summary,
      .action-buttons {
        position: static !important;
      }
    }

    /* Enhanced Cart Item Styles */
    .item-breakdown {
      grid-column: 1 / -1;
      display: flex;
      gap: 1rem;
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 0.25rem;
      padding-left: 0.5rem;
    }

    .breakdown-item {
      display: flex;
      gap: 0.25rem;
    }

    .breakdown-label {
      font-weight: 500;
    }

    .breakdown-value {
      font-weight: 600;
    }

    /* Order Discount Section Styles */
    .order-discount-section {
      border-top: 1px solid #e5e7eb;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
    }

    .btn-discount {
      width: 100%;
      padding: 0.5rem;
      background: #059669;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn-discount:hover {
      background: #047857;
    }

    .remove-discount-btn {
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 0.75rem;
      cursor: pointer;
      margin-left: 0.5rem;
    }

    .remove-discount-btn:hover {
      background: #dc2626;
    }

    /* New Order Section Styles (matching discount section) */
    .new-order-section {
      border-top: 1px solid #e5e7eb;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
    }

    .btn-new-order {
      width: 100%;
      padding: 0.5rem;
      background: #059669;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn-new-order:hover {
      background: #047857;
    }

    /* Item Action Buttons */
    .item-action-btn {
      padding: 0.25rem 0.5rem;
      border: none;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .return-btn {
      background: #ddd6fe;
      color: #5b21b6;
    }

    .return-btn:hover {
      background: #c4b5fd;
    }

    .damage-btn {
      background: #fed7aa;
      color: #c2410c;
    }

    .damage-btn:hover {
      background: #fdba74;
    }

    .refund-btn {
      background: #bbf7d0;
      color: #166534;
    }

    .refund-btn:hover {
      background: #86efac;
    }

    .cancel-btn {
      background: #fecaca;
      color: #dc2626;
    }

    .cancel-btn:hover {
      background: #fca5a5;
    }

    /* Offline Invoice Dialog */
    .offline-invoice-dialog {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      max-width: 500px;
      width: 90vw;
      max-height: 80vh;
      overflow-y: auto;
    }

    .dialog-header h3 {
      margin: 0 0 0.5rem 0;
      color: #1f2937;
      font-size: 1.25rem;
      font-weight: 600;
    }

    .dialog-header p {
      margin: 0 0 1.5rem 0;
      color: #6b7280;
      font-size: 0.875rem;
    }

    .dialog-content {
      margin-bottom: 1.5rem;
    }

    .dialog-content label {
      display: block;
      margin-bottom: 0.5rem;
      color: #374151;
      font-weight: 500;
      font-size: 0.875rem;
    }

    .invoice-input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 0.875rem;
      transition: border-color 0.2s;
    }

    .invoice-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .dialog-actions {
      display: flex;
      gap: 0.75rem;
      justify-content: flex-end;
    }

    .btn-secondary {
      padding: 0.75rem 1.5rem;
      background: #f3f4f6;
      color: #374151;
      border: none;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .btn-secondary:hover {
      background: #e5e7eb;
    }

    .btn-primary {
      padding: 0.75rem 1.5rem;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .btn-primary:hover {
      background: #2563eb;
    }

/* New Order Visual Indicators */
.new-order-section {
  margin-top: 1rem;
  padding: 1rem;
  border-radius: 8px;
  background: #f8fafc;
  border: 2px solid #e2e8f0;
  display: flex;
  gap: 0.75rem;
}

.btn-new-order {
  flex: 1;
  padding: 0.875rem 1.5rem;
  background: #10b981;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  position: relative;
}



.btn-new-order:hover {
  background: #059669;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.btn-new-order.active {
  background: #6366f1;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
  animation: pulse 2s infinite;
}

.btn-new-order.active:hover {
  background: #4f46e5;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

.hotkey-hint {
  position: absolute;
  right: 1rem;
  font-size: 0.75rem;
  opacity: 0.8;
  background: rgba(255, 255, 255, 0.2);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
}

/* Offline Invoice Dialog Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.75);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.offline-invoice-dialog {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
  max-width: 500px;
  width: 90vw;
  max-height: 80vh;
  overflow-y: auto;
}

.dialog-header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.dialog-header h3 {
  color: #1f2937;
  margin-bottom: 0.5rem;
  font-size: 1.5rem;
}

.dialog-header p {
  color: #6b7280;
  font-size: 0.875rem;
}

.dialog-content {
  margin-bottom: 2rem;
}

.radio-group {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.radio-option {
  display: flex;
  align-items: center;
  padding: 1rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
}

.radio-option:hover {
  border-color: #3b82f6;
  background: #f8fafc;
}

.radio-option input[type="radio"] {
  margin-right: 0.75rem;
  width: 1.2rem;
  height: 1.2rem;
}

.radio-option label {
  cursor: pointer;
  font-weight: 500;
  color: #374151;
}

.manual-input-section {
  margin-top: 1rem;
  margin-left: 2rem;
}

.invoice-input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-family: monospace;
  font-size: 1rem;
}

.dialog-actions {
  display: flex;
  gap: 1rem;
  justify-content: flex-end;
}

.btn-secondary, .btn-primary {
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-secondary {
  background: #f3f4f6;
  color: #374151;
  border: 1px solid #d1d5db;
}

.btn-secondary:hover {
  background: #e5e7eb;
}

.btn-primary {
  background: #3b82f6;
  color: white;
  border: 1px solid #3b82f6;
}

.btn-primary:hover {
  background: #2563eb;
}

/* Hotkey Hints Styling */
.hotkey-hints {
  display: flex;
  gap: 0.5rem; /* tighter */
  margin-bottom: 0.25rem; /* move content up */
  padding: 0.25rem 0.25rem; /* tighter, fieldset holds padding */
  background: transparent; /* fieldset provides background */
  border: none; /* fieldset provides border */
  border-radius: 8px;
  justify-content: center;
  flex-wrap: nowrap; /* keep in one row */
  overflow-x: auto; /* allow horizontal scroll if needed */
  -webkit-overflow-scrolling: touch;
  flex-shrink: 0;
}

/* Fieldset wrapper for hotkeys */
.hotkey-fieldset {
  border: 1px solid #0284c7; /* match invoice fieldset border */
  border-radius: 8px;
  padding: 0.5rem; /* compact and consistent with invoice */
  margin-bottom: 0.5rem;
  background: #e0f2fe; /* match invoice fieldset background */
}

.hotkey-fieldset legend {
  font-size: 0.75rem;
  font-weight: 600;
  color: #0369a1; /* match invoice legend color */
  padding: 0 0.25rem;
}

/* Invoice Info fieldset - compact with subtle background */
.invoice-fieldset {
  border: 1px solid #0284c7; /* match previous invoice border */
  border-radius: 8px;
  padding: 0.5rem; /* compact */
  margin-bottom: 0.5rem;
  background: #e0f2fe; /* light info background */
}

.invoice-fieldset legend {
  font-size: 0.75rem;
  font-weight: 600;
  color: #0369a1;
  padding: 0 0.25rem;
}

/* Reduce potential double spacing when inside fieldset */
.invoice-fieldset .invoice-compact-layout {
  margin: 0;
}

.hotkey-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.2rem;
  font-size: 0.8rem; /* smaller */
  color: #64748b;
  flex: 1;
  min-width: fit-content;
  text-align: center;
  cursor: pointer; /* indicate clickability */
  padding: 0.25rem 0.5rem; /* touch target */
  border-radius: 6px;
  transition: background-color 0.15s ease, color 0.15s ease, transform 0.05s ease;
}

.hotkey-item span {
  font-size: 0.65rem; /* smaller */
  font-weight: 500;
}

.hotkey-item kbd {
  background: #1e293b;
  color: white;
  padding: 0.15rem 0.35rem; /* tighter */
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 0.6rem; /* smaller */
  font-weight: 600;
  min-width: 1.4rem; /* smaller */
  text-align: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Hover/active feedback for clickable hotkeys */
.hotkey-item:hover {
  background: #eef2ff; /* subtle highlight */
  color: #334155; /* slightly darker text */
}

.hotkey-item:hover kbd {
  background: #334155; /* lighten the key pill a bit on hover */
}

.hotkey-item:active {
  transform: translateY(1px);
}

/* Product Disabled State */
.product-list-item.disabled,
.product-grid-item.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Payment Dialog Styles */
.payment-dialog {
  background: white;
  border-radius: 12px;
  padding: 0;
  max-width: 500px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.dialog-header {
  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  color: white;
  padding: 1.5rem;
  border-radius: 12px 12px 0 0;
}

.dialog-header h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.25rem;
  font-weight: 600;
}

.dialog-header p {
  margin: 0;
  opacity: 0.9;
  font-size: 0.9rem;
}

.dialog-content {
  padding: 1.5rem;
}

.payment-amounts {
  margin-bottom: 1.5rem;
}

.amount-field {
  margin-bottom: 1rem;
}

.amount-field label {
  display: block;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}

.amount-input {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 500;
  transition: all 0.2s ease;
}

.amount-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.amount-input.readonly {
  background: #f9fafb;
  color: #6b7280;
  cursor: not-allowed;
}

.payment-description {
  margin-bottom: 1rem;
}

.payment-description label {
  display: block;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}

.payment-textarea {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 0.9rem;
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
  transition: all 0.2s ease;
}

.payment-textarea:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.dialog-actions {
  padding: 1rem 1.5rem 1.5rem;
  display: flex;
  gap: 1rem;
  justify-content: flex-end;
  border-top: 1px solid #f3f4f6;
}

.dialog-actions .btn-secondary {
  background: #f3f4f6;
  color: #374151;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.dialog-actions .btn-secondary:hover {
  background: #e5e7eb;
}

.dialog-actions .btn-primary {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.dialog-actions .btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

/* Compact overrides for New Order visuals inside the receipt panel */
.receipt-panel .new-order-section {
  margin-top: 0.5rem;
  padding: 0.5rem;
  border-radius: 6px;
  border: 1px solid #e2e8f0;
  gap: 0.5rem;
}

.receipt-panel .btn-new-order {
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  font-size: 0.9rem;
}

.receipt-panel .btn-new-order:hover {
  transform: translateY(-1px);
}