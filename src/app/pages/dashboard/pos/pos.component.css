    .pos-container {
      /* account for fixed header height (80px) so the POS content sits below it */
      margin-top: 80px;
      min-height: calc(100vh - 80px);
      display: flex;
      flex-direction: column;
      background: #f8fafc;
      overflow: hidden;
    }

    /* Store Selector with 2-column layout */
    .store-selector {
      background: white;
      border-bottom: 1px solid #e2e8f0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .store-selector-layout {
      display: flex;
      align-items: center;
      min-height: 80px; /* Match receipt panel height */
    }

    .store-selection-column {
      flex: 1; /* Same as left-panel */
      border-right: 1px solid #e2e8f0; /* Match left-panel border */
    }

    .store-invoice-column {
      width: 400px; /* Same as right-panel */
      /* padding: 0.75rem 1rem; */
      border-left: 1px solid #e2e8f0; /* Match right-panel border */
    }

    .store-invoice-column .invoice-info-section {
      margin-bottom: 0; /* Remove bottom margin in this context */
    }

    .no-stores-message {
      padding: 0.5rem 1rem;
      color: #6b7280;
      font-style: italic;
    }

    /* STORE SELECTION SECTION (Inside Collapsible) */
    .store-selection-section {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 1rem;
      margin: 0 1rem 1rem;
    }

    .store-selection-section h3 {
      font-size: 14px;
      font-weight: 600;
      color: #2c3e50;
      margin: 0 0 0.75rem 0;
    }

    .store-buttons-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .store-btn-inline {
      padding: 0.5rem 1rem;
      background: white;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 13px;
      font-weight: 500;
      color: #374151;
    }

    .store-btn-inline:hover {
      background: #f3f4f6;
      border-color: #9ca3af;
    }

    .store-btn-inline.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
      box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
    }

    /* NAVIGATION TOGGLE BUTTON FOR DESKTOP POS */
    .navigation-toggle-row {
      background: linear-gradient(135deg, #007bff, #0056b3);
      border-radius: 8px;
      margin: 0.75rem 0 5px 0;
      box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);
      border: none;
    }

    .navigation-toggle-btn {
      width: 100%;
      background: none;
      border: none;
      padding: 12px 16px;
      color: white;
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .navigation-toggle-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-1px);
    }

    .navigation-toggle-btn:active {
      transform: translateY(0);
    }

    .toggle-icon {
      font-size: 16px;
      transition: transform 0.3s ease;
      margin-right: 10px;
    }

    .toggle-icon.expanded {
      transform: rotate(180deg);
    }

    .toggle-text {
      flex: 1;
      text-align: left;
      font-weight: 700;
    }

    .controls-hint {
      font-size: 11px;
      opacity: 0.8;
      font-weight: 400;
      text-align: right;
      line-height: 1.2;
    }

    /* COLLAPSIBLE NAVIGATION SECTION */
    .navigation-section {
      display: flex;
      flex-direction: column;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      transform-origin: top;
    }

    .navigation-section.collapsed {
      max-height: 0;
      opacity: 0;
      transform: scaleY(0);
      margin-bottom: -10px;
    }

    .navigation-section:not(.collapsed) {
      max-height: 1000px;
      opacity: 1;
      transform: scaleY(1);
    }    .store-tabs {
      background: white;
      border-bottom: 1px solid #e2e8f0;
      padding: 1rem 2rem;
    }

    .tabs-header {
      display: flex;
      gap: 0.5rem;
    }

    .store-tab {
      padding: 0.5rem 1rem;
      background: white;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .store-tab.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .pos-layout {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* small horizontal padding so content doesn't start too far from left on responsive widths */
    @media (max-width: 1250px) {
      .pos-container {
        padding-left: 12px;
        padding-right: 12px;
      }
      .pos-layout {
        padding-left: 0;
        padding-right: 0;
      }
    }

    .left-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: white;
      border-right: 1px solid #e2e8f0;
      min-width: 400px; /* Ensure minimum width for categories */
      max-width: calc(100% - 400px); /* Prevent overlap with receipt panel */
      overflow: hidden; /* Contain all children within left panel */
    }

    .categories-panel {
      padding: 1rem;
      border-bottom: 1px solid #e2e8f0;
      /* Remove max-height and overflow to allow natural height */
    }

    /* Compact Layout for Categories and Customer */
    .categories-panel.compact-layout {
      display: flex;
      gap: 1.5rem;
      max-height: none;
      border-bottom: 1px solid #e2e8f0;
      padding: 1rem;
    }

    .categories-column {
      flex: 1;
      min-width: 0;
    }

    .customer-column {
      flex: 1;
      min-width: 0;
    }

    /* Invoice Info Section - Always visible at top */
    .invoice-info-section {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      padding: 0.75rem;
      margin-bottom: 1rem;
    }

    .invoice-horizontal-layout {
      display: flex;
      gap: 1rem;
    }

    .invoice-field {
      display: flex;
      flex-direction: column;
    }

    .invoice-field:first-child {
      flex: 2; /* Give more space to invoice number */
    }

    .invoice-field:last-child {
      flex: 1; /* Date field takes only needed space */
      min-width: 180px; /* Minimum width for datetime input */
    }

    .invoice-field label {
      font-size: 0.75rem;
      font-weight: 500;
      color: #374151;
      margin-bottom: 0.25rem;
    }

    .invoice-field input {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 0.875rem;
      box-sizing: border-box;
    }

    .invoice-field .input-action-pair {
      display: flex;
      gap: 0.5rem;
    }

    .invoice-field .input-action-pair input {
      flex: 1;
    }

    .categories-column h3,
    .customer-column h3 {
      margin: 0 0 1rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #374151;
    }

    /* Customer Panel Specific Styles */
    .customer-panel {
      max-height: none;
    }

    .customer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      user-select: none;
      margin-bottom: 1rem;
    }

    .customer-header h3 {
      margin: 0;
      font-size: 1.125rem;
      font-weight: 600;
      color: #1f2937;
    }

    .expand-arrow {
      transition: transform 0.2s ease;
      font-size: 12px;
      color: #6b7280;
    }

    .expand-arrow.expanded {
      transform: rotate(180deg);
    }

    .customer-field-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }

    .customer-field-group label {
      font-size: 0.875rem;
      font-weight: 500;
      color: #374151;
    }

    .customer-field-group input {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 0.875rem;
      box-sizing: border-box;
    }

    .customer-field-group input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
    }

    .customer-name-input {
      font-weight: 500;
    }

    .customer-details {
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .customer-details.hidden {
      max-height: 0;
      opacity: 0;
      margin-top: 0;
    }

    .input-action-pair {
      display: flex;
      gap: 0.5rem;
      align-items: stretch;
    }

    .input-action-pair input {
      flex: 1;
      min-width: 0;
    }

    .action-btn {
      padding: 0.5rem 0.75rem;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 0.75rem;
      cursor: pointer;
      white-space: nowrap;
    }

    .action-btn:hover {
      background: #2563eb;
    }

    /* Invoice Info Section */
    .invoice-info-section {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      color: white;
    }

    /* Cart Invoice Info (within receipt panel) */
    .cart-invoice-info {
      background: #e0f2fe;
      border: 1px solid #0284c7;
      border-radius: 6px;
      padding: 0.5rem; /* tighter */
      margin-bottom: 0.5rem; /* move content up */
      flex-shrink: 0;
    }

    .invoice-header {
      margin: 0 0 0.5rem 0;
      font-size: 0.875rem;
      font-weight: 600;
      color: #0369a1;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .invoice-compact-layout {
      display: flex;
      gap: 1rem;
    }

    .invoice-field-compact {
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    .invoice-field-compact label {
      font-size: 0.7rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 0.25rem;
    }

    .invoice-field-compact input {
      width: 100%;
      padding: 0.4rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 0.8rem;
      box-sizing: border-box;
    }

    .invoice-date,
    .invoice-number {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .invoice-date {
      flex: 1;
    }

    .invoice-number {
      flex: 2;
    }

    .invoice-date label,
    .invoice-number label {
      font-size: 0.75rem;
      font-weight: 600;
      opacity: 0.9;
      margin: 0;
    }

    .invoice-date span {
      font-weight: 600;
      font-size: 0.875rem;
    }

    .invoice-input {
      padding: 0.5rem 0.75rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      color: white;
      font-size: 0.875rem;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .invoice-input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .invoice-input:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.5);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
    }

    .invoice-input {
      padding: 0.5rem 0.75rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      color: white;
      font-size: 0.875rem;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .invoice-input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .invoice-input:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.5);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
    }

    /* Categories Section */
    .categories-section {
      margin-bottom: 1rem;
    }

    .categories-section:last-child {
      margin-bottom: 0;
    }

    .categories-section h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #1f2937;
    }

    .categories-panel h3 {
      margin: 0 0 1rem 0;
      font-size: 1.125rem;
      font-weight: 600;
      color: #1f2937;
    }

    .category-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .category-btn {
      padding: 0.5rem 1rem;
      border: 1px solid #d1d5db;
      background: white;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.875rem;
      transition: all 0.2s;
    }

    .category-btn:hover,
    .category-btn.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .search-section {
      padding: 0 1rem; /* allow room for sort buttons */
      border-bottom: 1px solid #e2e8f0;
      margin-top: 10px;
    }

    /* New: separate containers for search and sort */
    .search-sort-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
    }

    .search-area {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 5rem; /* requested wider gap between input and filter */
      min-width: 0; /* allow input to shrink properly */
    }

    .search-input-wrap { position: relative; flex: 1; }

    .search-icon {
      position: absolute;
      left: 1rem;
      width: 1.25rem;
      height: 1.25rem;
      color: #6b7280;
      z-index: 1;
      top: 50%;
      transform: translateY(-50%);
    }

    .search-input {
      width: 100%;
      padding: 0.5rem 0.75rem 0.5rem 2.5rem;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.875rem;
      background: white;
      height: 36px;
    }

    .search-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .clear-btn {
      position: absolute;
      right: 0.5rem;
      background: none;
      border: none;
      font-size: 1.1rem;
      color: #6b7280;
      cursor: pointer;
      top: 50%;
      transform: translateY(-50%);
    }

    /* Filter button next to search */
    .filter-btn {
      height: 36px;
      width: 36px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      color: #374151;
      cursor: pointer;
    }

    .filter-btn:hover { background: #f1f5f9; }

    /* Sort menu area */
    .sort-area { position: relative; display: flex; align-items: center; }

    .sort-menu-btn {
      height: 36px;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0 0.6rem;
      background: #ffffff;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      color: #374151;
      cursor: pointer;
    }

    .sort-menu-btn:hover,
    .sort-menu-btn.active { background: #f8fafc; border-color: #94a3b8; }

    .sort-emoji { font-size: 1rem; line-height: 1; }
    .sort-label { font-size: 0.85rem; color: #475569; }

    .sort-dropdown {
      position: absolute;
      top: 40px;
      right: 0;
      min-width: 240px;
      background: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      padding: 0.25rem;
      z-index: 20;
    }

    .sort-option {
      width: 100%;
      padding: 0.5rem 0.75rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      text-align: left;
      color: #374151;
      font-size: 0.875rem;
      cursor: pointer;
    }

    .sort-option:hover { background: #f1f5f9; }
    .sort-option.active { background: #eff6ff; color: #1d4ed8; }

    /* Sort option label + description */
    .sort-option .label { display: block; font-weight: 600; }
    .sort-option .desc { display: block; font-size: 0.75rem; color: #6b7280; margin-top: 2px; }

    .product-tabs {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      border-bottom: 1px solid #e2e8f0;
      padding: 0.25rem 1rem 0.5rem;
    }

    /* Product view tabs (List/Grid/Promos/Bestsellers) */
    .product-tabs .tab-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      color: #374151;
      cursor: pointer;
      font-size: 0.875rem;
      line-height: 1;
      transition: all 0.2s ease;
    }

    .product-tabs .tab-btn:hover {
      background: #f8fafc;
      border-color: #93c5fd;
    }

    .product-tabs .tab-btn.active {
      background: #eff6ff;
      color: #1d4ed8;
      border-color: #3b82f6;
    }

    .product-tabs .tab-btn svg {
      width: 1.1rem;
      height: 1.1rem;
    }

    /* Access tabs (horizontal row above search) */
    .access-tabs {
      padding: 0.25rem 0;
      margin-bottom: 0.25rem;
    }

    .access-tab-list {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      overflow-x: auto;
      padding: 0.25rem 0.25rem;
      -webkit-overflow-scrolling: touch;
    }

    .tab-btn.small {
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;
      min-width: auto;
      border: 1px solid transparent;
      background: #ffffff;
      border-radius: 9999px;
      cursor: pointer;
    }

    .tab-btn.small:hover {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .tab-btn svg {
      width: 1.25rem;
      height: 1.25rem;
    }

    .tab-btn:hover,
    .tab-btn.active {
      color: #3b82f6;
      background: #f8fafc;
    }

    /* Reuse Access component's square tab header styles for consistency */
    .tab-header {
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      min-width: 120px;
      text-align: left;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .tab-header:hover {
      border-color: #667eea;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .tab-header.active {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .tab-content {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .tab-label {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .products-display {
      flex: 1;
      padding: 1rem;
      padding-right: 1.5rem; /* Extra right padding for better spacing */
      min-height: 350px; /* Increased minimum height to ensure complete rows are visible */
      overflow-x: hidden; /* Prevent horizontal overflow */
      overflow-y: auto; /* Allow vertical scrolling if needed */
    }

    .products-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .product-list-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
    }

    .product-list-item:hover {
      border-color: #3b82f6;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .product-list-item.bestseller {
      position: relative;
    }

    .rank-badge {
      position: absolute;
      top: -8px;
      left: -8px;
      background: #f59e0b;
      color: white;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: bold;
    }

    .product-image-small {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 6px;
      background: #f3f4f6;
    }

    .product-info {
      flex: 1;
    }

    .product-info h4 {
      margin: 0 0 0.25rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #1f2937;
    }

    .product-sku,
    .product-stock {
      margin: 0;
      font-size: 0.75rem;
      color: #6b7280;
    }

    .product-price {
      text-align: right;
      font-weight: 600;
      color: #1f2937;
    }

    .discount-badge {
      display: block;
      font-size: 0.75rem;
      color: #dc2626;
      font-weight: 500;
      margin-top: 0.25rem;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); /* Responsive grid with max tile width */
      gap: 0.5rem 0.75rem; /* Better spacing between tiles */
      width: 100%; /* Ensure grid stays within container */
      box-sizing: border-box;
      max-width: 100%; /* Prevent overflow */
    }

    .product-grid-item {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 0;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
      position: relative;
      display: flex;
      flex-direction: column;
      min-height: 180px; /* Ensure minimum consistent height */
      height: auto; /* Allow dynamic height based on content */
    }

    .product-grid-item:hover {
      border-color: #3b82f6;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .product-grid-item.promo {
      border-color: #f59e0b;
    }

    .promo-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #f59e0b;
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: bold;
    }

    .product-image-container {
      width: 100%;
      margin-bottom: 0;
      display: flex;
      flex-direction: column;
      gap: 0;
      flex-shrink: 0; /* Don't allow shrinking */
    }

    .product-image {
      width: 100%;
      height: 85px; /* Consistent image height */
      object-fit: cover;
      border-radius: 6px 6px 0 0;
      background: #f3f4f6;
    }

    .product-barcode {
      background: #ffffff;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2px 4px;
      margin: 0 0 0.5rem 0; /* Add space below barcode */
      height: 30px; /* Fixed height for barcode area */
      flex-shrink: 0; /* Don't allow shrinking */
    }

    .barcode-image {
      max-width: 100%;
      height: auto;
      display: block;
    }

    .product-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 0.5rem;
      padding-bottom: 0.75rem; /* Extra bottom padding */
      min-height: 0; /* Allow shrinking */
      overflow: visible; /* Allow content to show fully */
      gap: 0.25rem;
    }

    .product-details .product-name {
      margin: 0;
      font-size: 0.875rem;
      font-weight: 600;
      color: #1f2937;
      line-height: 1.3;
      word-wrap: break-word;
      white-space: normal;
      overflow: visible;
    }

    .product-name-price {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0;
      gap: 0.5rem;
    }

    .product-name-price h4 {
      margin: 0;
      font-size: 0.875rem; /* Consistent font size */
      font-weight: 600;
      color: #1f2937;
      line-height: 1.3;
      flex: 1;
      overflow: visible; /* Show full text */
      text-overflow: clip; /* Don't truncate */
      display: block; /* Remove line clamping */
      word-wrap: break-word; /* Break long words */
      white-space: normal; /* Allow text wrapping */
    }

    .product-name-price .price {
      font-weight: 600;
      color: #059669;
      font-size: 0.875rem; /* Match title font size */
      white-space: nowrap;
    }

    .price-stock-group {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      align-items: flex-end;
    }

    .price-stock-group .price {
      font-weight: 600;
      color: #059669;
      font-size: 0.875rem;
      white-space: nowrap;
    }

    .product-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin: 0.25rem 0;
    }

    .product-tags .tag {
      font-size: 0.7rem;
      padding: 2px 6px;
      background: #dbeafe;
      color: #1e40af;
      border-radius: 3px;
      font-weight: 500;
      white-space: nowrap;
    }

    .product-category-stock {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0;
      margin-top: 0;
      gap: 0.5rem;
    }

    .product-details h4 {
      margin: 0 0 0.5rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #1f2937;
    }

    .product-description {
      margin: 0;
      font-size: 0.75rem; /* Consistent small font */
      color: #6b7280;
      flex: 1;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .product-stock {
      font-size: 0.75rem; /* Match description font size */
      color: #6b7280;
      white-space: nowrap;
    }

    .stock-badge {
      font-size: 0.75rem; /* Consistent badge font */
      color: #059669;
      background: #d1fae5;
      padding: 2px 6px;
      border-radius: 3px;
      white-space: nowrap;
      font-weight: 500;
    }

    .discount {
      font-size: 0.75rem; /* Consistent discount font */
      color: #dc2626;
      font-weight: 500;
      margin-top: 0; /* Remove margin to eliminate blank row */
    }

    .product-pricing {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .price {
      font-weight: 600;
      color: #1f2937;
    }

    .discount {
      font-size: 0.75rem;
      color: #dc2626;
      font-weight: 500;
    }

    .right-panel {
      width: 400px;
      background: white;
      border-left: 1px solid #e2e8f0;
    }

    /* Show More button below grid */
    .show-more-row {
      display: flex;
      justify-content: center;
      margin-top: 0.5rem;
    }

    .show-more-btn {
      max-width: 200px;
    }

    .receipt-panel {
      height: 100%;
      display: flex;
      flex-direction: column;
      /* add ~10px more internal padding for breathing room */
      padding: calc(1rem + 0.1px);
      min-height: 0; /* allow flex children to shrink so footer stays visible */
    }

    .receipt-header {
      border-bottom: 1px solid #e2e8f0;
      padding-bottom: 1rem;
      margin-bottom: 1rem;
    }

    .company-info h2 {
      margin: 0 0 0.5rem 0;
      font-size: 1.25rem;
      font-weight: 700;
      color: #1f2937;
    }

    .company-info p {
      margin: 0.25rem 0;
      font-size: 0.875rem;
      color: #6b7280;
    }

    .receipt-date {
      margin-top: 0.5rem !important;
      font-weight: 500 !important;
      color: #374151 !important;
    }

    .cart-items {
      flex: 1 1 auto;
      overflow-y: auto;
      min-height: 0; /* allow the cart to shrink inside the receipt panel */
      /* scroll only inside cart; no page-level scroll */
      padding-bottom: 0; /* remove extra bottom space */
      margin-bottom: 0; /* ensure no container bottom margin */
      /* Show only 5 items (rows) then scroll the rest */
      max-height: calc(5 * (32px + 0.5rem));
    }

    .cart-header {
      display: grid;
      grid-template-columns: 2fr 0.8fr 0.8fr 1fr 0.8fr; /* Added 5th column for actions */
      gap: 1rem; /* Increased gap from 0.5rem to 1rem for better spacing between columns */
      padding: 0.5rem;
      font-size: 0.75rem;
      font-weight: 600;
      color: #6b7280;
      text-transform: uppercase;
      border-bottom: 1px solid #e2e8f0;
      margin-bottom: 0.5rem;
       margin-top: 0.5rem;
    }

    .actions-header {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .header-view-btn {
      padding: 0.125rem;
      min-width: auto;
      height: 1.5rem;
      width: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .header-view-btn .icon {
      width: 16px;
      height: 16px;
    }

    .btn-icon-action .icon {
      width: 16px;
      height: 16px;
    }

    .empty-cart {
      text-align: center;
      padding: 2rem;
      color: #6b7280;
    }

    .cart-item {
      border-bottom: 1px solid #f3f4f6;
      /* padding: 0.75rem; */
      /* margin-bottom: 0.5rem; */
      display: grid;
      grid-template-columns: 2fr 0.8fr 0.8fr 1fr 0.8fr; /* Match cart-header proportions with 5 columns */
      gap: 1rem; /* Increased gap to match cart-header for consistent spacing */
      align-items: center;
      min-height: 32px; /* Reduced from 40px for more compact display */
      padding: 0.25rem 0; /* Add minimal padding for better spacing */
    }

    .cart-item:last-child {
      border-bottom: none;
      padding-bottom: 0; /* remove extra gap before summary */
      margin-bottom: 0;  /* ensure no leftover spacing */
    }

    .item-details {
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-start !important;
    }

    .item-name {
      font-weight: 500;
      color: #1f2937;
      font-size: 0.75rem; /* Reduced from 0.875rem to match summary sections */
    }

    .item-sku {
      font-size: 0.65rem; /* Reduced from 0.75rem */
      color: #6b7280;
    }

    .quantity-controls {
      display: flex !important;
      align-items: center;
     
    }

    .qty-btn {
      width: 20px; /* Reduced from 24px */
      height: 20px; /* Reduced from 24px */
      border: 1px solid #d1d5db;
      background: white;
      border-radius: 3px;
      cursor: pointer;
      font-size: 0.7rem; /* Reduced from 0.875rem */
    }

    .qty-btn:hover {
      background: #f3f4f6;
    }

    .quantity {
      font-weight: 500;
      min-width: 20px;
      text-align: center;
      font-size: 0.75rem; /* Added to match summary font size */
    }

    .item-price,
    .item-total {
      font-weight: 500;
      color: #1f2937;
      text-align: right;
      font-size: 0.75rem; /* Added to match summary sections */
    }

    .item-total {
      display: flex !important;
      align-items: center;
      justify-content: space-between;
    }

    .remove-btn {
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 18px; /* Reduced from 22px */
      height: 18px; /* Reduced from 22px */
      cursor: pointer;
      font-size: 0.65rem; /* Reduced from 0.75rem */
      margin-left: 0.25rem; /* Reduced margin */
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .item-controls {
      grid-column: 1 / -1; /* span all grid columns */
      padding-top: 0.5rem;
    }

    .vat-exempt-toggle {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.75rem;
      color: #6b7280;
      cursor: pointer;
    }

    .receipt-summary {
      border-top: 1px solid #e2e8f0;
      padding-top: 0.5rem;
      margin-top: 0; /* flush with last cart item */
      flex-shrink: 0;
    }

    .summary-line {
      display: flex;
      justify-content: space-between;
      padding: 0.25rem 0;
      font-size: 0.875rem;
    }

    .summary-line.gross {
      border-top: 1px solid #e2e8f0;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
      font-weight: 600;
    }

    .summary-line.total {
      border-top: 2px solid #1f2937;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
      font-weight: 700;
      font-size: 1.125rem;
      color: #1f2937;
    }

    .action-buttons {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.25rem; /* tighter to reduce gap */
      flex-shrink: 0;
    }

    .btn {
      flex: 1;
      padding: 0.5rem 0.75rem;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 0.875rem;
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: #f3f4f6;
      color: #374151;
      border: 1px solid #d1d5db;
    }

    .btn-secondary:hover:not(:disabled) {
      background: #e5e7eb;
    }

    .btn-primary {
      background: #3b82f6;
      color: white;
    }

    .btn-primary:hover:not(:disabled) {
      background: #2563eb;
    }

    /* Gradient primary style to match View Details button across app */
    .btn-gradient {
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      color: white;
      border: none;
      box-shadow: 0 2px 4px rgba(79, 70, 229, 0.2);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-gradient:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
      background: linear-gradient(135deg, #4338ca 0%, #6d28d9 100%);
    }

    .btn-gradient:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .btn-gradient svg { width: 16px; height: 16px; }

    .receipt-footer {
      border-top: 1px solid #e2e8f0;
      padding-top: 0.5rem;
      margin-top: 0.25rem; /* tighter to reduce gap */
      text-align: center;
      flex-shrink: 0;
    }

    .receipt-footer p {
      margin: 0;
      font-size: 0.875rem;
      color: #6b7280;
      font-style: italic;
    }

    @media (max-width: 1024px) {
      .right-panel {
        width: 350px;
      }
      
      .products-grid {
        grid-template-columns: repeat(4, 1fr); /* 4 columns on smaller screens */
        gap: 0.5rem;
      }
      /* Slightly move down the receipt panel on tablet for better spacing */
      .receipt-panel {
        margin-top: 8px;
        padding: calc(1rem + 8px);
      }
    }

    @media (max-width: 768px) {
      .pos-layout {
        flex-direction: column;
      }

      .left-panel {
        height: auto;
      }

      /* Make the receipt full-width and place it after the products on mobile */
      .right-panel {
        width: 100%;
        height: auto;
        order: 2; /* place receipt after products */
        border-left: none;
        border-top: 1px solid #e2e8f0;
        margin-top: 12px;
      }

      .categories-panel {
        max-height: 120px;
      }

      .product-tabs {
        font-size: 0.75rem;
      }

      .tab-btn {
        padding: 0.75rem 0.5rem;
      }

      /* Allow the receipt to show fully on mobile: remove cart max-height and show full content */
      .cart-items {
        max-height: none !important;
        overflow: visible !important;
      }
      .receipt-summary,
      .action-buttons {
        position: static !important;
      }
    }

    /* Enhanced Cart Item Styles */
    .item-breakdown {
      grid-column: 1 / -1;
      display: flex;
      gap: 1rem;
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 0.25rem;
      padding-left: 0.5rem;
    }

    .breakdown-item {
      display: flex;
      gap: 0.25rem;
    }

    .breakdown-label {
      font-weight: 500;
    }

    .breakdown-value {
      font-weight: 600;
    }

    /* Order Discount Section Styles */
    .order-discount-section {
      border-top: 1px solid #e5e7eb;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
    }

    .btn-discount {
      width: 100%;
      padding: 0.5rem;
      background: #059669;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn-discount:hover {
      background: #047857;
    }

    .remove-discount-btn {
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 0.75rem;
      cursor: pointer;
      margin-left: 0.5rem;
    }

    .remove-discount-btn:hover {
      background: #dc2626;
    }

    /* New Order Section Styles (matching discount section) */
    .new-order-section {
      border-top: 1px solid #e5e7eb;
      padding-top: 0.5rem;
      margin-top: 0.5rem;
    }

    .btn-new-order {
      width: 100%;
      padding: 0.5rem;
      background: #059669;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn-new-order:hover {
      background: #047857;
    }

    /* Item Action Buttons */
    .item-action-btn {
      padding: 0.25rem 0.5rem;
      border: none;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .return-btn {
      background: #ddd6fe;
      color: #5b21b6;
    }

    .return-btn:hover {
      background: #c4b5fd;
    }

    .damage-btn {
      background: #fed7aa;
      color: #c2410c;
    }

    .damage-btn:hover {
      background: #fdba74;
    }

    .refund-btn {
      background: #bbf7d0;
      color: #166534;
    }

    .refund-btn:hover {
      background: #86efac;
    }

    .cancel-btn {
      background: #fecaca;
      color: #dc2626;
    }

    .cancel-btn:hover {
      background: #fca5a5;
    }

    /* Top-level Return/Damage button overrides when used with .btn */
    .btn.return-btn {
      background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);
      color: #ffffff;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      font-weight: 600;
    }

    .btn.return-btn:hover {
      filter: brightness(0.95);
      transform: translateY(-1px);
    }

    .btn.damage-btn {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      color: #ffffff;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      font-weight: 600;
    }

    .btn.damage-btn:hover {
      filter: brightness(0.95);
      transform: translateY(-1px);
    }

    /* Manage Item Status button styling */
    .btn.manage-status-btn {
      background: linear-gradient(135deg, #4f46e5 0%, #6366f1 100%); /* indigo gradient */
      color: white;
      border: none;
      padding: 0.55rem 0.9rem;
      border-radius: 8px;
      font-weight: 600;
      box-shadow: 0 6px 18px rgba(99, 102, 241, 0.18);
    }

    .btn.manage-status-btn:hover,
    .btn.manage-status-btn:focus {
      filter: brightness(0.95);
      transform: translateY(-1px);
      outline: none;
      box-shadow: 0 8px 22px rgba(99, 102, 241, 0.22);
    }

    /* Ensure the inline item-level buttons remain visually lighter */
    .item-action-btn.return-btn { background: #ddd6fe; color: #5b21b6; }
    .item-action-btn.damage-btn { background: #fed7aa; color: #c2410c; }

    /* Open Receipt and Cancel Order top-level button styles */
    .btn.open-receipt-btn {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      font-weight: 600;
    }

    .btn.open-receipt-btn:hover { transform: translateY(-1px); filter: brightness(0.98); }

    .btn.cancel-order-btn {
      background: linear-gradient(135deg, #fb923c 0%, #f97316 100%);
      color: white;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      font-weight: 600;
    }

    .btn.cancel-order-btn:hover { transform: translateY(-1px); filter: brightness(0.98); }

    /* Offline Invoice Dialog */
    .offline-invoice-dialog {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      max-width: 500px;
      width: 90vw;
      max-height: 80vh;
      overflow-y: auto;
    }

    .dialog-header h3 {
      margin: 0 0 0.5rem 0;
      color: #1f2937;
      font-size: 1.25rem;
      font-weight: 600;
    }

    .dialog-header p {
      margin: 0 0 1.5rem 0;
      color: #6b7280;
      font-size: 0.875rem;
    }

    .dialog-content {
      margin-bottom: 1.5rem;
    }

    .dialog-content label {
      display: block;
      margin-bottom: 0.5rem;
      color: #374151;
      font-weight: 500;
      font-size: 0.875rem;
    }

    .invoice-input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 0.875rem;
      transition: border-color 0.2s;
    }

    .invoice-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .dialog-actions {
      display: flex;
      gap: 0.75rem;
      justify-content: flex-end;
    }

    .btn-secondary {
      padding: 0.75rem 1.5rem;
      background: #f3f4f6;
      color: #374151;
      border: none;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .btn-secondary:hover {
      background: #e5e7eb;
    }

    .btn-primary {
      padding: 0.75rem 1.5rem;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .btn-primary:hover {
      background: #2563eb;
    }

/* New Order Visual Indicators */
.new-order-section {
  margin-top: 1rem;
  padding: 1rem;
  border-radius: 8px;
  background: #f8fafc;
  border: 2px solid #e2e8f0;
  display: flex;
  gap: 0.75rem;
}

.btn-new-order {
  flex: 1;
  padding: 0.875rem 1.5rem;
  background: #10b981;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  position: relative;
}



.btn-new-order:hover {
  background: #059669;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.btn-new-order.active {
  background: #6366f1;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
  animation: pulse 2s infinite;
}

.btn-new-order.active:hover {
  background: #4f46e5;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

.hotkey-hint {
  position: absolute;
  right: 1rem;
  font-size: 0.75rem;
  opacity: 0.8;
  background: rgba(255, 255, 255, 0.2);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
}

/* Offline Invoice Dialog Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.75);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.offline-invoice-dialog {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
  max-width: 500px;
  width: 90vw;
  max-height: 80vh;
  overflow-y: auto;
}

.dialog-header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.dialog-header h3 {
  color: #1f2937;
  margin-bottom: 0.5rem;
  font-size: 1.5rem;
}

.dialog-header p {
  color: #6b7280;
  font-size: 0.875rem;
}

.dialog-content {
  margin-bottom: 2rem;
}

.radio-group {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.radio-option {
  display: flex;
  align-items: center;
  padding: 1rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
}

.radio-option:hover {
  border-color: #3b82f6;
  background: #f8fafc;
}

.radio-option input[type="radio"] {
  margin-right: 0.75rem;
  width: 1.2rem;
  height: 1.2rem;
}

.radio-option label {
  cursor: pointer;
  font-weight: 500;
  color: #374151;
}

.manual-input-section {
  margin-top: 1rem;
  margin-left: 2rem;
}

.invoice-input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-family: monospace;
  font-size: 1rem;
}

.dialog-actions {
  display: flex;
  gap: 1rem;
  justify-content: flex-end;
}

.btn-secondary, .btn-primary {
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-secondary {
  background: #f3f4f6;
  color: #374151;
  border: 1px solid #d1d5db;
}

.btn-secondary:hover {
  background: #e5e7eb;
}

.btn-primary {
  background: #3b82f6;
  color: white;
  border: 1px solid #3b82f6;
}

.btn-primary:hover {
  background: #2563eb;
}

/* Hotkey Hints Styling */
.hotkey-hints {
  display: flex;
  gap: 0.5rem; /* tighter */
  margin-bottom: 0.25rem; /* move content up */
  padding: 0.25rem 0.25rem; /* tighter, fieldset holds padding */
  background: transparent; /* fieldset provides background */
  border: none; /* fieldset provides border */
  border-radius: 8px;
  justify-content: center;
  flex-wrap: nowrap; /* keep in one row */
  overflow-x: auto; /* allow horizontal scroll if needed */
  -webkit-overflow-scrolling: touch;
  flex-shrink: 0;
}

/* Fieldset wrapper for hotkeys */
.hotkey-fieldset {
  border: 1px solid #0284c7; /* match invoice fieldset border */
  border-radius: 8px;
  padding: 0.5rem; /* compact and consistent with invoice */
  margin-bottom: 0.5rem;
  background: #e0f2fe; /* match invoice fieldset background */
}

.hotkey-fieldset legend {
  font-size: 0.75rem;
  font-weight: 600;
  color: #0369a1; /* match invoice legend color */
  padding: 0 0.25rem;
}

/* Invoice Info fieldset - compact with subtle background */
.invoice-fieldset {
  border: 1px solid #0284c7; /* match previous invoice border */
  border-radius: 8px;
  padding: 0.5rem; /* compact */
  margin-bottom: 0.5rem;
  background: #e0f2fe; /* light info background */
}

.invoice-fieldset legend {
  font-size: 0.75rem;
  font-weight: 600;
  color: #0369a1;
  padding: 0 0.25rem;
}

/* Reduce potential double spacing when inside fieldset */
.invoice-fieldset .invoice-compact-layout {
  margin: 0;
}

/* Cart fieldset - compact with subtle background */
.cart-fieldset {
  border: 1px solid #059669; /* green border for cart */
  border-radius: 8px;
  padding: 0.5rem; /* compact */
  margin-bottom: 0.5rem;
  background: #ecfdf5; /* light green background */
}

.cart-fieldset legend {
  font-size: 0.75rem;
  font-weight: 600;
  color: #047857;
  padding: 0 0.25rem;
}

/* Clickable legend styling */
.clickable-legend {
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 4px;
  padding: 0.25rem 0.5rem !important;
}

.clickable-legend:hover {
  background: #d1fae5;
  color: #065f46;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Reduce spacing for cart elements inside fieldset */
.cart-fieldset .cart-header {
  margin-top: 0; /* remove top margin inside fieldset */
}

.cart-fieldset .cart-items {
  margin-bottom: 0.25rem; /* reduce bottom margin */
}

.cart-fieldset .receipt-summary {
  margin-bottom: 0; /* remove bottom margin inside fieldset */
}

.hotkey-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.2rem;
  font-size: 0.8rem; /* smaller */
  color: #64748b;
  flex: 1;
  min-width: fit-content;
  text-align: center;
  cursor: pointer; /* indicate clickability */
  padding: 0.25rem 0.5rem; /* touch target */
  border-radius: 6px;
  transition: background-color 0.15s ease, color 0.15s ease, transform 0.05s ease;
}

.hotkey-item span {
  font-size: 0.65rem; /* smaller */
  font-weight: 500;
}

.hotkey-item kbd {
  background: #1e293b;
  color: white;
  padding: 0.15rem 0.35rem; /* tighter */
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 0.6rem; /* smaller */
  font-weight: 600;
  min-width: 1.4rem; /* smaller */
  text-align: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Hover/active feedback for clickable hotkeys */
.hotkey-item:hover {
  background: #eef2ff; /* subtle highlight */
  color: #334155; /* slightly darker text */
}

.hotkey-item:hover kbd {
  background: #334155; /* lighten the key pill a bit on hover */
}

.hotkey-item:active {
  transform: translateY(1px);
}

/* Product Disabled State */
.product-list-item.disabled,
.product-grid-item.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Payment Dialog Styles */
.payment-dialog {
  background: white;
  border-radius: 12px;
  padding: 0;
  max-width: 500px;
  width: 90%;
  max-height: 90vh;
  /* Make dialog a flex column so content scrolls but footer stays pinned */
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.dialog-header {
  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  color: white;
  padding: 1.5rem;
  border-radius: 12px 12px 0 0;
  flex-shrink: 0; /* prevent header from shrinking */
}

.dialog-header h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.25rem;
  font-weight: 600;
}

.dialog-header p {
  margin: 0;
  opacity: 0.9;
  font-size: 0.9rem;
}

.dialog-content {
  padding: 1.5rem;
  flex: 1 1 auto;         /* fill available space */
  overflow-y: auto;        /* scroll only content */
  min-height: 0;           /* allow flexbox overflow */
}

.payment-amounts {
  margin-bottom: 1.5rem;
}

.amount-field {
  margin-bottom: 1rem;
}

.amount-field label {
  display: block;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}

.amount-input {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 500;
  transition: all 0.2s ease;
}

.amount-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.amount-input.readonly {
  background: #f9fafb;
  color: #6b7280;
  cursor: not-allowed;
}

.payment-type {
  margin-bottom: 1.5rem;
}

.payment-type label {
  display: block;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}

.payment-select {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 0.95rem;
  font-family: inherit;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.payment-select:hover {
  border-color: #d1d5db;
}

.payment-select:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.payment-description {
  margin-bottom: 1rem;
}

.payment-description label {
  display: block;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}

.payment-textarea {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 0.9rem;
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
  transition: all 0.2s ease;
}

.payment-textarea:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.dialog-actions {
  padding: 1rem 1.5rem 1.5rem;
  display: flex;
  gap: 1rem;
  justify-content: flex-end;
  border-top: 1px solid #f3f4f6;
  flex-shrink: 0;          /* keep footer visible */
  background: #fff;        /* solid surface under footer */
}

.dialog-actions .btn-secondary {
  background: #f3f4f6;
  color: #374151;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.dialog-actions .btn-secondary:hover {
  background: #e5e7eb;
}

.dialog-actions .btn-primary {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.dialog-actions .btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

/* Compact overrides for New Order visuals inside the receipt panel */
.receipt-panel .new-order-section {
  margin-top: 0.5rem;
  padding: 0.5rem;
  border-radius: 6px;
  border: 1px solid #e2e8f0;
  gap: 0.5rem;
}

.receipt-panel .btn-new-order {
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  font-size: 0.9rem;
}

.receipt-panel .btn-new-order:hover {
  transform: translateY(-1px);
}

/* Cart Item Details Modal Styles */
.cart-details-modal {
  max-width: 600px;
  width: 90vw;
  max-height: 90vh;
  overflow: hidden;
}

.cart-details-modal .modal-body {
  padding: 1.5rem;
  max-height: 70vh;
  overflow-y: auto;
}

.item-details-section {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.detail-card {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  overflow: hidden;
}

.detail-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem;
  background: #667eea;
  color: white;
  font-weight: 600;
}

.detail-icon {
  font-size: 1.25rem;
}

.detail-title {
  font-size: 1rem;
}

.detail-content {
  padding: 1rem;
}

.detail-row, .breakdown-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 0;
  border-bottom: 1px solid #e2e8f0;
}

.detail-row:last-child, .breakdown-row:last-child {
  border-bottom: none;
}

.detail-label, .breakdown-label {
  font-weight: 500;
  color: #4a5568;
}

.detail-value, .breakdown-value {
  font-weight: 600;
  color: #2d3748;
}

.text-green {
  color: #38a169 !important;
}

.toggle-row {
  padding: 0.75rem 0;
}

.toggle-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  font-weight: 500;
}

.toggle-text {
  color: #4a5568;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-top: 1rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.form-group label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #4a5568;
}

.form-input {
  padding: 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  font-size: 0.875rem;
}

.total-breakdown {
  border: 2px solid #667eea;
}

.total-row {
  background: #f7fafc;
  font-weight: 700;
  font-size: 1.1rem;
}

.total-row .breakdown-value {
  color: #667eea;
}

.batch-actions {
  padding: 1rem;
  background: #f1f5f9;
  border-radius: 8px;
}

.action-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.action-buttons .btn {
  font-size: 0.875rem;
  padding: 0.5rem 1rem;
}

.item-actions {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.cart-item {
  display: grid;
  grid-template-columns: 2fr 0.8fr 0.8fr 1fr 0.8fr; /* Match cart-header proportions */
  gap: 1rem;
  align-items: center;
  padding: 0.25rem 0;
  border-bottom: 1px solid #e2e8f0;
}

.cart-item:last-child {
  border-bottom: none;
}

/* Action Button Styles - from Company Profile */
.btn-icon-action {
  padding: 0.5rem;
  border: 1px solid #d1d5db;
  background: white;
  border-radius: 0.375rem;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 1.25rem;
  line-height: 1;
  position: relative;
}

.btn-icon-action:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.btn-icon-action[title]:hover::after {
  content: attr(title);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 0.5rem;
  padding: 0.375rem 0.75rem;
  background: #1f2937;
  color: white;
  font-size: 0.75rem;
  border-radius: 0.375rem;
  white-space: nowrap;
  z-index: 10020;
  pointer-events: none;
}

.btn-icon-action[title]:hover::before {
  content: '';
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 0.25rem;
  border: 4px solid transparent;
  border-top-color: #1f2937;
  z-index: 10020;
  pointer-events: none;
}

.btn-view {
  color: #10b981;
  border-color: #10b981;
}

.btn-view:hover {
  background: #d1fae5;
  border-color: #10b981;
}

.btn-icon-action.btn-danger {
  color: #ef4444;
  border-color: #ef4444;
}

/* Cart Overview Styles */
.cart-overview-section {
  margin-bottom: 1rem;
}

.cart-items-list {
  max-height: 300px;
  overflow-y: auto;
}

.cart-item-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem;
  border-bottom: 1px solid #f3f4f6;
  transition: background-color 0.2s;
}

.cart-item-row:hover {
  background: #f8fafc;
}

.cart-item-row:last-child {
  border-bottom: none;
}

.item-basic-info {
  flex: 1;
}

.item-name {
  font-weight: 500;
  color: #1f2937;
  margin-bottom: 0.25rem;
}

.item-details {
  font-size: 0.875rem;
  color: #6b7280;
}

.btn-sm {
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
}

/* Cart Information Dialog Styles */
.cart-items-section {
  margin-top: 1rem;
}

.vat-discount-section {
  margin-top: 1.5rem;
  border-top: 1px solid #e5e7eb;
  padding-top: 1rem;
}

.settings-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-top: 0.75rem;
}

.setting-group {
  background: #f8fafc;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 1rem;
}

.checkbox-field {
  display: flex;
  align-items: center;
  margin-bottom: 0.75rem;
}

.setting-checkbox {
  margin-right: 0.5rem;
  width: 16px;
  height: 16px;
}

.checkbox-label {
  font-weight: 600;
  color: #374151;
  cursor: pointer;
}

.input-field {
  margin-bottom: 0.75rem;
}

.input-field:last-child {
  margin-bottom: 0;
}

.input-field label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.25rem;
}

.setting-input,
.setting-select {
  width: 100%;
  padding: 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-size: 0.875rem;
  background: white;
}

.setting-input:focus,
.setting-select:focus {
  outline: none;
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

.discount-settings {
  border-top: 1px solid #e5e7eb;
  padding-top: 0.75rem;
  margin-top: 0.75rem;
}

.cart-items-list-dialog {
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  max-height: 200px;
  overflow-y: auto;
  background: white;
}

.cart-item-header {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 0.5rem;
  padding: 0.5rem;
  background: #f8fafc;
  font-weight: 600;
  font-size: 0.75rem;
  color: #374151;
  border-bottom: 1px solid #e5e7eb;
}

.cart-item-row-dialog {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 0.5rem;
  padding: 0.5rem;
  border-bottom: 1px solid #f3f4f6;
  font-size: 0.875rem;
}

.cart-item-row-dialog:last-child {
  border-bottom: none;
}

.cart-item-row-dialog:hover {
  background: #f8fafc;
}

.empty-cart-message {
  padding: 1rem;
  text-align: center;
  color: #6b7280;
  font-style: italic;
}

.customer-info-section,
.payment-method-section {
  margin-top: 1rem;
}

.customer-details-dialog {
  background: #f8fafc;
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  padding: 0.75rem;
}

.customer-field {
  display: flex;
  margin-bottom: 0.5rem;
}

.customer-field:last-child {
  margin-bottom: 0;
}

.field-label {
  font-weight: 600;
  color: #374151;
  min-width: 120px;
}

.field-value {
  color: #6b7280;
}

.payment-methods-dialog {
  display: flex;
  gap: 1rem;
  margin-top: 0.5rem;
}

.payment-method {
  padding: 0.5rem 1rem;
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  background: #f8fafc;
  color: #6b7280;
  transition: all 0.2s ease;
}

.payment-method.active {
  background: #ecfdf5;
  border-color: #10b981;
  color: #047857;
  font-weight: 600;
}

.final-total {
  font-weight: 700 !important;
  background: #ecfdf5 !important;
  border-color: #10b981 !important;
  color: #047857 !important;
}

.btn-icon-action.btn-danger:hover {
  background: #fef2f2;
  border-color: #ef4444;
}

/* Extended Cart Items Grid Styles for Cart Information Dialog */
.cart-dialog {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.cart-dialog-content {
  background: white;
  border-radius: 8px;
  padding: 20px;
  max-width: 95vw;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.cart-dialog-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  border-bottom: 1px solid #e5e7eb;
  padding-bottom: 10px;
}

.cart-dialog-header h3 {
  margin: 0;
  color: #374151;
  font-size: 1.25rem;
  font-weight: 600;
}

.close-button {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: #6b7280;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
}

.close-button:hover {
  background-color: #f3f4f6;
  color: #374151;
}

/* Extended Cart Items Grid - extended columns for identification, ID type, customer name */
.cart-item-header-extended {
  display: grid;
  grid-template-columns: 2fr 0.8fr 0.9fr 0.8fr 1fr 0.8fr 0.8fr 1fr 0.8fr 1fr 0.9fr 0.9fr 1.2fr;
  gap: 0.5rem;
  padding: 0.5rem;
  background: #f8fafc;
  font-weight: 600;
  font-size: 0.75rem;
  color: #374151;
  border-bottom: 1px solid #e5e7eb;
  min-width: 1550px; /* Increased width to accommodate added columns */
  white-space: nowrap;
}

.cart-item-row-extended {
  display: grid;
  grid-template-columns: 2fr 0.8fr 0.9fr 0.8fr 1fr 0.8fr 0.8fr 1fr 0.8fr 1fr 0.9fr 0.9fr 1.2fr;
  gap: 0.5rem;
  padding: 0.5rem;
  border-bottom: 1px solid #f3f4f6;
  font-size: 0.875rem;
  align-items: center;
  min-width: 1550px; /* Match header width */
}

.cart-item-row-extended:last-child {
  border-bottom: none;
}

.cart-item-row-extended:hover {
  background-color: #f8fafc;
}

/* Dialog cart item styles matching main cart */
.item-details-dialog {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  padding: 0.5rem;
}

.item-details-dialog .item-name {
  font-weight: 600;
  color: #1f2937;
  font-size: 0.875rem;
  line-height: 1.2;
}

.item-details-dialog .item-sku {
  font-size: 0.75rem;
  color: #6b7280;
}

.quantity-controls-dialog {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.25rem;
}

.quantity-controls-dialog .qty-btn {
  width: 24px;
  height: 24px;
  border: 1px solid #d1d5db;
  background: white;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
  transition: all 0.15s ease;
}

.quantity-controls-dialog .qty-btn:hover {
  background: #f3f4f6;
  border-color: #9ca3af;
}

.quantity-controls-dialog .qty-btn:active {
  background: #e5e7eb;
}

.quantity-controls-dialog .quantity {
  font-weight: 600;
  color: #1f2937;
  min-width: 20px;
  text-align: center;
  font-size: 0.875rem;
}

.item-price-dialog {
  font-weight: 600;
  color: #059669;
  text-align: center;
  padding: 0.25rem;
  font-size: 0.875rem;
}

.item-total-dialog {
  font-weight: 600;
  color: #059669;
  text-align: center;
  padding: 0.25rem;
  font-size: 0.875rem;
}

.item-original-price {
  font-weight: 600;
  color: #6b7280;
  text-align: center;
  padding: 0.25rem;
  font-size: 0.875rem;
}

/* PWD ID and Customer Name columns */
.item-pwd-id {
  font-weight: 500;
  color: #374151;
  text-align: center;
  padding: 0.25rem;
  font-size: 0.85rem;
}

.item-customer-name {
  font-weight: 500;
  color: #374151;
  text-align: center;
  padding: 0.25rem;
  font-size: 0.85rem;
}

/* Form control styles for individual cart items */
.item-checkbox {
  display: flex;
  justify-content: center;
  align-items: center;
}

.small-checkbox {
  width: 16px;
  height: 16px;
  cursor: pointer;
}

.item-input {
  display: flex;
  align-items: center;
}

.cart-item-field {
  display: flex;
  align-items: center;
  justify-content: center;
}

.cart-item-input,
.cart-item-select {
  width: 100%;
  padding: 0.25rem;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  font-size: 0.75rem;
  text-align: center;
}

.cart-item-input:focus,
.cart-item-select:focus {
  outline: none;
  border-color: #10b981;
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.1);
}

.cart-item-checkbox {
  width: 16px;
  height: 16px;
  cursor: pointer;
}

.cart-item-total {
  font-weight: 600;
  color: #059669;
  text-align: right;
  padding: 0.25rem;
}

.cart-item-total-input {
  font-weight: 600;
  color: #059669;
  text-align: center;
  background-color: #f0fdf4;
  border-color: #059669;
}

.cart-item-total-input:focus {
  outline: none;
  border-color: #10b981;
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
  background-color: #ffffff;
}

.small-input {
  width: 100%;
  max-width: 80px;
  padding: 4px 6px;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  font-size: 0.875rem;
}

.small-input:disabled {
  background-color: #f3f4f6;
  color: #9ca3af;
  cursor: not-allowed;
}

.item-select {
  display: flex;
  align-items: center;
}

.small-select {
  width: 100%;
  max-width: 60px;
  padding: 4px 6px;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  font-size: 0.875rem;
  background-color: white;
}

.small-select:disabled {
  background-color: #f3f4f6;
  color: #9ca3af;
  cursor: not-allowed;
}

.item-name {
  font-weight: 500;
  color: #374151;
}

.item-quantity,
.item-price,
.item-total {
  text-align: center;
  color: #6b7280;
}

.item-total {
  font-weight: 600;
  color: #059669;
}

/* Cart Information Dialog Styles */
.cart-information-dialog {
  background: white;
  border-radius: 12px;
  padding: 0;
  max-width: 95vw;
  width: 1400px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Mobile responsive dialog */
@media (max-width: 768px) {
  .cart-information-dialog {
    width: 98vw;
    max-width: 98vw;
    max-height: 95vh;
    border-radius: 8px;
    margin: 0.5rem;
  }
}

/* Tablet and medium screen adjustments */
@media (max-width: 1024px) and (min-width: 769px) {
  .cart-information-dialog {
    width: 95vw;
    max-width: 95vw;
  }

  .tracking-items-list {
    max-height: 65vh;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
  }

  .tracking-item-header,
  .tracking-item-row {
    display: grid !important;
    grid-template-columns: 140px 90px 60px 80px 60px 80px 80px 90px 80px 110px 180px;
    gap: 0.6rem;
    padding: 0.8rem 0.4rem;
    min-width: 900px;
    align-items: center;
  }

  .tracking-item-header {
    font-size: 0.7rem;
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    font-weight: 600;
    color: #475569;
    border-bottom: 2px solid #cbd5e1;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .tracking-item-row {
    border-bottom: 1px solid #e2e8f0;
  }
}

.cart-info-dialog-header {
  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  color: white;
  padding: 1.5rem;
  border-radius: 12px 12px 0 0;
  flex-shrink: 0;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  position: relative;
}

.cart-info-dialog-header .header-content h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.25rem;
  font-weight: 600;
}

.cart-info-dialog-header .header-content p {
  margin: 0;
  opacity: 0.9;
  font-size: 0.9rem;
}

.cart-info-dialog-header .close-btn {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  font-size: 1.5rem;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  position: absolute;
  top: 1rem;
  right: 1rem;
}

.cart-info-dialog-header .close-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

.cart-info-dialog-body {
  padding: 1.5rem;
  flex: 1 1 auto;
  overflow-y: auto;
  min-height: 0;
}

.cart-info-dialog-footer {
  padding: 1rem 1.5rem 1.5rem;
  display: flex;
  gap: 1rem;
  justify-content: flex-end;
  border-top: 1px solid #f3f4f6;
  flex-shrink: 0;
  background: #fff;
}

.cart-info-dialog-footer .btn-secondary {
  background: #f3f4f6;
  color: #374151;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.cart-info-dialog-footer .btn-secondary:hover {
  background: #e5e7eb;
}

.cart-info-dialog-footer .btn-primary {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.cart-info-dialog-footer .btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.cart-info-dialog-footer .btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

/* ==================== TRACKING ITEMS STYLES (for Manage Item Status) ==================== */

.tracking-items-section {
  margin-top: 0;
}

.section-label {
  display: block;
  font-weight: 600;
  color: #374151;
  margin-bottom: 1rem;
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Scroll hint for mobile users */
.tracking-items-section::before {
  content: '';
  display: none;
}

@media (max-width: 768px) {
  .section-label::after {
    content: ' (Swipe horizontally to see all columns)';
    font-size: 0.65rem;
    color: #6b7280;
    font-weight: 400;
    text-transform: none;
    letter-spacing: normal;
    display: block;
    margin-top: 0.25rem;
  }
}

.tracking-items-list {
  background: #f8fafc;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  overflow: auto;
  max-height: 60vh;
  min-width: 1200px; /* Ensure minimum width for proper column alignment */
  position: relative;
}

/* Scroll fade indicator for mobile */
@media (max-width: 768px) {
  .tracking-items-list::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 30px;
    height: 100%;
    background: linear-gradient(to left, rgba(248, 250, 252, 0.9) 0%, transparent 100%);
    pointer-events: none;
    border-radius: 0 8px 8px 0;
  }
}

/* Header Row */
.tracking-item-header {
  display: grid;
  grid-template-columns: 180px 100px 70px 90px 70px 90px 90px 100px 90px 120px 200px;
  gap: 0.75rem;
  padding: 1rem;
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #475569;
  border-bottom: 2px solid #cbd5e1;
  position: sticky;
  top: 0;
  z-index: 10;
}

/* Data Rows */
.tracking-item-row {
  display: grid;
  grid-template-columns: 180px 100px 70px 90px 70px 90px 90px 100px 90px 120px 200px;
  gap: 0.75rem;
  padding: 1rem;
  border-bottom: 1px solid #e2e8f0;
  align-items: center;
  transition: background-color 0.2s ease;
}

.tracking-item-row:hover {
  background: rgba(59, 130, 246, 0.02);
}

.tracking-item-row:last-child {
  border-bottom: none;
}

/* Column Styles */
.col-product, .col-sku, .col-qty, .col-price, .col-vat, .col-discount, .col-total, .col-status, .col-qty-adjust, .col-adjustment-type, .col-update-reason {
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-height: 2.5rem;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Text column alignment */
.col-qty, .col-price, .col-vat, .col-discount, .col-total, .col-qty-adjust {
  text-align: center;
}

.col-sku, .col-status, .col-adjustment-type {
  text-align: left;
}

.col-product, .col-update-reason {
  text-align: left;
}

/* Add extra right padding after Update Reason to create visual margin */
.col-update-reason {
  padding-right: 1.25rem;
}

@media (max-width: 1024px) {
  /* Slightly reduce padding on narrower screens */
  .col-update-reason { padding-right: 0.8rem; }
}

/* Ensure the Update Reason textarea leaves space before the vertical scrollbar */
.update-reason-textarea {
  width: 100%;
  box-sizing: border-box; /* include padding in width calculation */
  padding: 0.5rem 1rem 0.5rem 0.5rem; /* extra right padding to avoid scrollbar overlap */
  max-width: 100%;
  resize: vertical;
  scrollbar-gutter: stable; /* reserve space for scrollbar where supported */
}

@media (max-width: 1024px) {
  .update-reason-textarea { padding: 0.45rem 0.8rem 0.45rem 0.45rem; }
}

/* Product Details */
.item-details-tracking {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.item-name {
  font-weight: 500;
  color: #111827;
  font-size: 0.875rem;
  line-height: 1.2;
}

.item-id {
  font-size: 0.75rem;
  color: #6b7280;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
}

/* SKU Value */
.sku-value {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 0.8rem;
  color: #374151;
  font-weight: 500;
  background: #f3f4f6;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  display: inline-block;
}

/* Quantity, Price, VAT, Discount, Total Values */
.qty-value, .price-value, .vat-value, .discount-value, .total-value {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 0.875rem;
  color: #111827;
  font-weight: 500;
}

.price-value, .discount-value, .total-value {
  color: #059669;
}

.vat-value {
  color: #dc2626;
}

/* Status Badge */
.status-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.375rem 0.75rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  min-width: 80px;
  background-color: #f3f4f6;
  color: #374151;
  border: 1px solid #d1d5db;
}

.status-badge.status-completed {
  background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
  color: #065f46;
  border-color: #10b981;
}

.status-badge.status-pending {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  color: #92400e;
  border-color: #f59e0b;
}

.status-badge.status-processing {
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
  color: #1e40af;
  border-color: #3b82f6;
}

.status-badge.status-cancelled {
  background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
  color: #991b1b;
  border-color: #ef4444;
}

/* Loading State */
.loading-section {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 200px;
}

.loading-content {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.loading-content p {
  margin: 0;
  color: #6b7280;
  font-size: 0.9rem;
}

/* Mobile loading adjustments */
@media (max-width: 768px) {
  .loading-section {
    min-height: 150px;
  }
  
  .loading-content p {
    font-size: 0.8rem;
  }
}

.spinner {
  width: 32px;
  height: 32px;
  border: 3px solid #e2e8f0;
  border-top: 3px solid #3b82f6;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading-content p {
  margin: 0;
  color: #6b7280;
  font-size: 0.875rem;
}

/* Empty State */
.empty-state {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 200px;
}

.empty-content {
  text-align: center;
  max-width: 300px;
  padding: 1rem;
}

.empty-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.6;
}

.empty-content h4 {
  margin: 0 0 0.5rem 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: #374151;
}

.empty-content p {
  margin: 0;
  color: #6b7280;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* Mobile empty state adjustments */
@media (max-width: 768px) {
  .empty-state {
    min-height: 150px;
  }
  
  .empty-content {
    max-width: 280px;
    padding: 0.75rem;
  }
  
  .empty-icon {
    font-size: 2.5rem;
  }
  
  .empty-content h4 {
    font-size: 1rem;
  }
  
  .empty-content p {
    font-size: 0.8rem;
  }
}

.empty-content p {
  margin: 0;
  color: #6b7280;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* Responsive Design */
@media (max-width: 1024px) {
  .tracking-item-header,
  .tracking-item-row {
    grid-template-columns: 1.8fr 1fr 0.7fr 0.9fr 0.7fr 0.9fr 0.9fr 1fr;
    gap: 0.75rem;
    padding: 0.75rem;
  }
  
  .tracking-item-header {
    font-size: 0.7rem;
  }
  
  .item-name {
    font-size: 0.8rem;
  }
  
  .sku-value, .qty-value, .price-value, .vat-value, .discount-value, .total-value {
    font-size: 0.8rem;
  }
}

@media (max-width: 768px) {
  .tracking-item-header,
  .tracking-item-row {
    grid-template-columns: 1fr;
    gap: 0.5rem;
    padding: 1rem;
  }
  
  .tracking-item-header {
    display: none; /* Hide header on mobile, use labels in rows instead */
  }
  
  .tracking-item-row {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    margin-bottom: 0.75rem;
    background: white;
  }
  
  .col-product, .col-sku, .col-qty, .col-price, .col-vat, .col-discount, .col-total, .col-status {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    min-height: auto;
    padding: 0.25rem 0;
    border-bottom: 1px solid #f3f4f6;
  }
  
  .col-product::before { content: "Product:"; }
  .col-sku::before { content: "SKU:"; }
  .col-qty::before { content: "Qty:"; }
  .col-price::before { content: "Price:"; }
  .col-vat::before { content: "VAT:"; }
  .col-discount::before { content: "Discount:"; }
  .col-total::before { content: "Total:"; }
  .col-status::before { content: "Status:"; }
  
  .col-product::before, .col-sku::before, .col-qty::before, .col-price::before,
  .col-vat::before, .col-discount::before, .col-total::before, .col-status::before {
    font-weight: 600;
    color: #6b7280;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .item-details-tracking {
    flex-direction: column;
    align-items: flex-end;
  }
}

/* Interactive Elements Styles for Manage Item Status */
.qty-input {
  width: 60px;
  padding: 0.25rem 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  text-align: center;
  transition: all 0.2s ease;
}

.qty-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.qty-input:invalid {
  border-color: #ef4444;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.status-select {
  padding: 0.25rem 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  background: white;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 100px;
}

.status-select:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.status-select option {
  padding: 0.25rem;
}

.status-select option[value="processing"] {
  color: #2563eb;
}

.status-select option[value="completed"] {
  color: #059669;
}

.status-select option[value="refunded"] {
  color: #7c3aed;
}

.status-select option[value="cancelled"] {
  color: #dc2626;
}

.status-select option[value="damaged"] {
  color: #b91c1c;
}

.status-select option[value="returned"] {
  color: #9333ea;
}

/* New Interactive Elements for Manage Item Status */
.qty-adjust-input {
  width: 70px;
  padding: 0.25rem 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  text-align: center;
  transition: all 0.2s ease;
}

.qty-adjust-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.qty-adjust-input:invalid {
  border-color: #ef4444;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.adjustment-type-select {
  padding: 0.25rem 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  background: white;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 110px;
  width: 100%;
}

.adjustment-type-select:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.update-reason-textarea {
  width: 100%;
  min-width: 150px;
  padding: 0.25rem 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  font-family: inherit;
  resize: vertical;
  transition: all 0.2s ease;
  min-height: 40px;
}

.update-reason-textarea:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.update-reason-textarea::placeholder {
  color: #9ca3af;
  font-size: 0.8rem;
}

/* Mobile responsive for interactive elements */
@media (max-width: 768px) {
  .qty-input {
    width: 50px;
    font-size: 0.75rem;
  }
  
  .status-select {
    font-size: 0.75rem;
    min-width: 80px;
  }

  .qty-adjust-input {
    width: 50px;
    font-size: 0.75rem;
    padding: 0.2rem 0.25rem;
  }

  .adjustment-type-select {
    font-size: 0.75rem;
    min-width: 90px;
    padding: 0.2rem 0.25rem;
  }

  .update-reason-textarea {
    font-size: 0.75rem;
    min-height: 35px;
    padding: 0.2rem 0.25rem;
    min-width: 120px;
  }

  /* Mobile responsive for tracking grid */
  .tracking-items-list {
    overflow-x: auto;
    overflow-y: auto;
    max-height: 60vh;
    font-size: 0.75rem;
    border-radius: 6px;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
  }

  .tracking-item-header,
  .tracking-item-row {
    display: grid !important;
    grid-template-columns: 120px 70px 50px 60px 50px 60px 60px 70px 60px 80px 120px;
    gap: 0.35rem;
    padding: 0.5rem 0.25rem;
    min-width: 800px;
    align-items: center;
  }

  .tracking-item-header {
    font-size: 0.65rem;
    padding: 0.5rem 0.25rem;
    letter-spacing: 0.3px;
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    font-weight: 600;
    color: #475569;
    border-bottom: 2px solid #cbd5e1;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .tracking-item-row {
    border-bottom: 1px solid #e2e8f0;
    transition: background-color 0.2s ease;
  }

  .tracking-item-row:hover {
    background: rgba(59, 130, 246, 0.02);
  }

  /* Smaller input elements for mobile */
  .qty-adjust-input {
    width: 45px;
    font-size: 0.7rem;
    padding: 0.15rem 0.2rem;
    border-radius: 3px;
  }

  .adjustment-type-select {
    font-size: 0.7rem;
    min-width: 70px;
    padding: 0.15rem 0.2rem;
    border-radius: 3px;
  }

  .update-reason-textarea {
    font-size: 0.7rem;
    min-height: 30px;
    padding: 0.15rem 0.2rem;
    min-width: 100px;
    border-radius: 3px;
  }

  /* Mobile header adjustments */
  .cart-info-dialog-header {
    padding: 1rem;
    border-radius: 8px 8px 0 0;
  }

  .cart-info-dialog-header h3 {
    font-size: 1.1rem;
    margin-bottom: 0.25rem;
  }

  .cart-info-dialog-header p {
    font-size: 0.85rem;
    opacity: 0.9;
  }

  .cart-info-dialog-body {
    padding: 0.75rem;
  }

  .cart-info-dialog-footer {
    padding: 0.75rem;
    gap: 0.5rem;
  }

  /* Mobile button adjustments */
  .cart-info-dialog-footer button {
    padding: 0.6rem 1rem;
    font-size: 0.85rem;
  }

  .tracking-item-header {
    font-size: 0.65rem;
  }
}

/* Extra small mobile devices (phones in portrait) */
@media (max-width: 480px) {
  .cart-information-dialog {
    width: 99vw;
    max-width: 99vw;
    max-height: 98vh;
    margin: 0.25rem;
    border-radius: 6px;
  }

  .cart-info-dialog-header {
    padding: 0.75rem;
  }

  .cart-info-dialog-header h3 {
    font-size: 1rem;
  }

  .cart-info-dialog-header p {
    font-size: 0.8rem;
  }

  .cart-info-dialog-body {
    padding: 0.5rem;
  }

  .cart-info-dialog-footer {
    padding: 0.5rem;
    flex-direction: column;
  }

  .cart-info-dialog-footer button {
    width: 100%;
    padding: 0.75rem;
    font-size: 0.9rem;
  }

  /* Ultra compact grid for very small screens */
  .tracking-items-list {
    max-height: 55vh;
    font-size: 0.7rem;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
  }

  .tracking-item-header,
  .tracking-item-row {
    display: grid !important;
    grid-template-columns: 100px 60px 45px 50px 45px 50px 50px 60px 50px 70px 100px;
    gap: 0.25rem;
    padding: 0.4rem 0.2rem;
    min-width: 650px;
    align-items: center;
  }

  .tracking-item-header {
    font-size: 0.6rem;
    letter-spacing: 0.2px;
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    font-weight: 600;
    color: #475569;
    border-bottom: 2px solid #cbd5e1;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .tracking-item-row {
    border-bottom: 1px solid #e2e8f0;
  }

  /* Ultra small input elements */
  .qty-adjust-input {
    width: 40px;
    font-size: 0.65rem;
    padding: 0.1rem 0.15rem;
  }

  .adjustment-type-select {
    font-size: 0.65rem;
    min-width: 60px;
    padding: 0.1rem 0.15rem;
  }

  .update-reason-textarea {
    font-size: 0.65rem;
    min-height: 25px;
    padding: 0.1rem 0.15rem;
    min-width: 80px;
  }

  /* Compact section label */
  .section-label {
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
  }
}