# UI Workflow - Company Settings & Account Management

## ğŸ¯ UI Navigation Structure

```
Company Settings Page
â”œâ”€â”€ 1. Company Profile (Basic Info)
â”œâ”€â”€ 2. Subscription Management â† Subscribe Here
â”‚   â”œâ”€â”€ Current Plan Display
â”‚   â”œâ”€â”€ Upgrade/Downgrade Options
â”‚   â””â”€â”€ Payment Flow
â”œâ”€â”€ 3. Stores Grid/Table
â”‚   â”œâ”€â”€ Store List
â”‚   â”œâ”€â”€ Store Details
â”‚   â””â”€â”€ Billing History per Store â† View Here
â””â”€â”€ 4. (Future: Users, Permissions, etc.)
```

---

## ğŸ“‹ Detailed UI Flows

### Flow 1: **Subscribe at Company Level**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Company Settings > Subscription Tab        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  Current Plan: Freemium (Free)              â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“¦ Standard - â‚±999/month              â”‚ â”‚
â”‚  â”‚ âœ“ Multiple stores                     â”‚ â”‚
â”‚  â”‚ âœ“ Advanced reporting                  â”‚ â”‚
â”‚  â”‚ [Subscribe] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“¦ Premium - â‚±2,999/month             â”‚ â”‚
â”‚  â”‚ âœ“ Everything in Standard              â”‚ â”‚
â”‚  â”‚ âœ“ Priority support                    â”‚ â”‚
â”‚  â”‚ [Subscribe]                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Select Store for Subscription              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—‹ TechMart Makati                          â”‚
â”‚  â—‹ TechMart Cebu                            â”‚
â”‚  â—‹ TechMart Manila                          â”‚
â”‚                                             â”‚
â”‚  [ Continue ]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Payment Details                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Promo Code: [WELCOME50]  [Apply]          â”‚
â”‚                                             â”‚
â”‚  Subtotal:     â‚±2,997.00                    â”‚
â”‚  Discount 50%: -â‚±1,498.50                   â”‚
â”‚  Total:        â‚±1,498.50                    â”‚
â”‚                                             â”‚
â”‚  Payment Method:                            â”‚
â”‚  â—‹ GCash  â—‹ PayMaya  â—‹ PayPal              â”‚
â”‚                                             â”‚
â”‚  [ Pay Now ]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         Update Store.subscription
                   +
       Create CompanyBillingHistory
```

---

### Flow 2: **View Billing History Under Stores Table**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Company Settings > Stores                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Stores List:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Store Name        â”‚ Type    â”‚ Status â”‚ Subscription      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ TechMart Makati   â”‚ Retail  â”‚ Active â”‚ Standard         â”‚ â”‚
â”‚  â”‚ [View Details] [Billing History] [Devices]              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ TechMart Cebu     â”‚ Retail  â”‚ Active â”‚ Freemium        â”‚ â”‚
â”‚  â”‚ [View Details] [Billing History] [Devices]              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
            Click [Billing History]
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Billing History - TechMart Makati                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Date        â”‚ Plan      â”‚ Duration â”‚ Amount   â”‚ Discount â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Jan 13 2025 â”‚ Standard  â”‚ 3 months â”‚ â‚±2,997   â”‚ 50%     â”‚ â”‚
â”‚  â”‚ Promo: WELCOME50 | Paid via PayPal | â‚±1,498.50          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Oct 13 2024 â”‚ Freemium  â”‚ Trial    â”‚ â‚±0       â”‚ 0%      â”‚ â”‚
â”‚  â”‚ Initial signup                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  Total Spent: â‚±1,498.50                                         â”‚
â”‚  [ Export CSV ]  [ Close ]                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Flow 3: **BIR Compliance & Devices (Under Store)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Store Details - TechMart Makati                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Basic Info:                                                    â”‚
â”‚  â”œâ”€ Store Name: TechMart Makati                                â”‚
â”‚  â”œâ”€ Address: 123 Ayala Avenue, Makati City                     â”‚
â”‚  â””â”€ Contact: +63 917 123 4567                                  â”‚
â”‚                                                                 â”‚
â”‚  BIR Compliance:                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â˜ BIR Accredited                                          â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ [Submit for BIR Accreditation] â† Checkbox triggers this   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
          Check "BIR Accredited" box
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BIR Accreditation Submission                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Store BIR Details:                                             â”‚
â”‚  â”œâ”€ TIN Number: [000-000-000-000]                              â”‚
â”‚  â”œâ”€ Business Name: [____________________]                      â”‚
â”‚  â””â”€ BIR Registration: [ğŸ“ Upload]                              â”‚
â”‚                                                                 â”‚
â”‚  Device/Terminal Details:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Device Label: [TechMart Terminal 1]                       â”‚ â”‚
â”‚  â”‚ Terminal ID:  [TERM001]                                   â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ BIR Permit No:          [BIR-PERMIT-2025-56789]          â”‚ â”‚
â”‚  â”‚ Serial Number:          [SN-2025-000888]                  â”‚ â”‚
â”‚  â”‚ MIN Number:             [MIN-2025-456789012]              â”‚ â”‚
â”‚  â”‚ ATP/OCN:                [OCN-2025-001234]                 â”‚ â”‚
â”‚  â”‚ Permit Date Issued:     [ğŸ“… 2025-01-01]                   â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ Invoice Series:                                            â”‚ â”‚
â”‚  â”‚ â”œâ”€ Prefix:     [INV-MKT-001-]                             â”‚ â”‚
â”‚  â”‚ â”œâ”€ Start:      [100001]                                   â”‚ â”‚
â”‚  â”‚ â””â”€ End:        [199999]                                   â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ VAT Configuration:                                         â”‚ â”‚
â”‚  â”‚ â”œâ”€ Registration Type: [VAT-registered â–¼]                  â”‚ â”‚
â”‚  â”‚ â”œâ”€ VAT Rate:          [12.0%]                             â”‚ â”‚
â”‚  â”‚ â””â”€ Receipt Type:      [POS Receipt]                       â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚ Supporting Documents:                                      â”‚ â”‚
â”‚  â”‚ â”œâ”€ BIR Permit Copy:   [ğŸ“ Upload]                         â”‚ â”‚
â”‚  â”‚ â”œâ”€ ATP/OCN Copy:      [ğŸ“ Upload]                         â”‚ â”‚
â”‚  â”‚ â””â”€ Store Photos:      [ğŸ“ Upload]                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  [Submit for Admin Review]  [Cancel]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â³ Pending Admin Review                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Your BIR accreditation request has been submitted.             â”‚
â”‚  Tovrika admin will review and verify the details.              â”‚
â”‚                                                                 â”‚
â”‚  Status: ğŸŸ¡ Pending Review                                      â”‚
â”‚  Submitted: Jan 13, 2025 2:30 PM                                â”‚
â”‚                                                                 â”‚
â”‚  You will be notified once approved.                            â”‚
â”‚  [ OK ]                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         Admin Approves in Backend
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… BIR Accreditation Approved                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Congratulations! Your store is now BIR-accredited.             â”‚
â”‚                                                                 â”‚
â”‚  âœ“ Store marked as BIR-accredited                               â”‚
â”‚  âœ“ Device registered and active                                 â”‚
â”‚  âœ“ Invoice series locked and ready                              â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ BIR details are now LOCKED and cannot be changed.           â”‚
â”‚  Contact Tovrika support for any corrections.                   â”‚
â”‚                                                                 â”‚
â”‚  [ View Device ]  [ Close ]                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Flow 4: **Managing Devices After BIR Approval**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Store Details - TechMart Makati                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  BIR Status: âœ… Accredited (Approved Jan 15, 2025)              â”‚
â”‚                                                                 â”‚
â”‚  Registered Devices:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ–¥ï¸ TechMart Terminal 1 - TERM001                         â”‚ â”‚
â”‚  â”‚ Status: ğŸŸ¢ Active                                         â”‚ â”‚
â”‚  â”‚ Series: INV-MKT-001-100123 (100,123 / 199,999 used)      â”‚ â”‚
â”‚  â”‚ BIR Permit: BIR-PERMIT-2025-56789 ğŸ”’ LOCKED              â”‚ â”‚
â”‚  â”‚ Last Used: 2 hours ago                                    â”‚ â”‚
â”‚  â”‚ [View Details] [View Transactions]                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ–¥ï¸ TechMart Terminal 2 - TERM002                         â”‚ â”‚
â”‚  â”‚ Status: ğŸ”´ Inactive                                       â”‚ â”‚
â”‚  â”‚ Series: INV-MKT-002-200001 (Unused)                      â”‚ â”‚
â”‚  â”‚ BIR Permit: BIR-PERMIT-2025-56790 ğŸ”’ LOCKED              â”‚ â”‚
â”‚  â”‚ [Activate] [View Details]                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  [+ Register New Device]  â† Opens BIR submission popup again    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” BIR Approval Workflow

### States:

1. **Not Submitted** (Default)
   - Checkbox unchecked
   - No BIR details
   - Cannot register devices

2. **Pending Review** ğŸŸ¡
   - User submitted BIR details + device
   - Waiting for admin approval
   - Store marked as `isBirAccredited: false`
   - Device marked as `status: 'pending'`

3. **Approved** âœ…
   - Admin approved in backend
   - Store marked as `isBirAccredited: true`
   - Device marked as `status: 'active'`
   - **BIR details LOCKED** - cannot be edited
   - Can register additional devices

4. **Rejected** âŒ
   - Admin rejected submission
   - User notified with reason
   - Can resubmit with corrections

---

## ğŸ’¾ Data Flow Summary

### Subscription Flow:
```
Company Settings > Subscription Tab
  â””â”€> Select Plan
      â””â”€> Select Store
          â””â”€> Payment
              â””â”€> Update Store.subscription
              â””â”€> Create CompanyBillingHistory
```

### BIR Accreditation Flow:
```
Store Details > Check "BIR Accredited"
  â””â”€> Open BIR Submission Popup
      â””â”€> Fill Store BIR + Device BIR Details
          â””â”€> Submit for Review
              â””â”€> Admin Reviews in Backend
                  â””â”€> If Approved:
                      â”œâ”€> Store.isBirAccredited = true
                      â”œâ”€> Create Device with BIR details
                      â””â”€> Lock all BIR fields (read-only)
```

### View Billing History:
```
Company Settings > Stores Tab
  â””â”€> Store Row > [Billing History] Button
      â””â”€> Show Modal/Popup with CompanyBillingHistory
          Filtered by storeId
```

---

## ğŸ“ Component Structure

```
src/app/pages/company-settings/
â”œâ”€â”€ company-settings.component.ts (Main page with tabs)
â”‚
â”œâ”€â”€ tabs/
â”‚   â”œâ”€â”€ profile-tab/
â”‚   â”‚   â””â”€â”€ company-profile-tab.component.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ subscription-tab/
â”‚   â”‚   â”œâ”€â”€ subscription-tab.component.ts
â”‚   â”‚   â”œâ”€â”€ plan-card.component.ts
â”‚   â”‚   â””â”€â”€ payment-modal.component.ts
â”‚   â”‚
â”‚   â””â”€â”€ stores-tab/
â”‚       â”œâ”€â”€ stores-tab.component.ts (Grid/Table)
â”‚       â”œâ”€â”€ store-billing-history-modal.component.ts
â”‚       â”œâ”€â”€ store-details-modal.component.ts
â”‚       â””â”€â”€ bir-submission-modal.component.ts
â”‚
â””â”€â”€ shared/
    â”œâ”€â”€ billing-history-list.component.ts
    â””â”€â”€ device-card.component.ts
```

---

## âœ… Key Features

1. **Subscribe at Company Level**
   - âœ… View all plans in Subscription tab
   - âœ… Select which store to upgrade
   - âœ… Apply promo codes
   - âœ… Multiple payment methods

2. **Billing History Under Stores**
   - âœ… Each store has its own billing history
   - âœ… View payments made for that store
   - âœ… Track promo codes and discounts
   - âœ… Export to CSV

3. **BIR Submission Popup**
   - âœ… Opens when checkbox is checked
   - âœ… Collects Store BIR + Device BIR details together
   - âœ… Submit for admin review
   - âœ… Show pending/approved/rejected status

4. **BIR Details Locked After Approval**
   - âœ… Once approved, cannot edit BIR fields
   - âœ… Prevents fraud and ensures compliance
   - âœ… Contact support for corrections
   - âœ… Can add new devices under same BIR registration

---

*Ready to build these components! ğŸš€*
